import {defineConfig} from 'vitepress';
import {demoblockPlugin, demoblockVitePlugin} from 'vitepress-theme-demoblock';
import nav from './nav';
import {tocPlugin} from '@mdit-vue/plugin-toc';
// @ts-ignore
import suggestionHighlightPlugin from './theme/custom-markdown.cjs';
import {pagefindPlugin} from 'vitepress-plugin-pagefind';
import VitePluginAutoSidebar from './plugin/VitePluginAutoSidebar';
import {resolve} from 'path';

// https://vitepress.dev/reference/site-config
export default defineConfig({
    // sitemap: {
    //   hostname: 'http://localhost:5173/',
    //   lastmodDateOnly: false,
    // },
    title: '西魏陶渊明',
    description: 'From Arco',
    lastUpdated: true,
    head: [
        ['link', {
            rel: 'icon',
            type: 'image/svg+xml',
            href: 'https://img.springlearn.cn/learn_d98f09cdad8fa38168ec59c15a508490.ico',
        }],
        ['link', {
            rel: 'icon',
            type: 'image/png',
            href: 'https://img.springlearn.cn/learn_d98f09cdad8fa38168ec59c15a508490.ico',
        }],
        ['script', {
            src: 'https://cdn.bootcdn.net/ajax/libs/animejs/3.2.2/anime.min.js',
        },
        ],
    ],
    markdown: {
        lineNumbers: true,
        config: (md) => {
            md.use(demoblockPlugin, {
                customClass: 'demoblock-custom',
            });
            md.use(suggestionHighlightPlugin);
            md.use(tocPlugin, {
                level: [1, 2],
            });
        },
    },
    vite: {
        // @ts-ignore
        plugins: [demoblockVitePlugin(), VitePluginAutoSidebar(
            [
                resolve(__dirname, '../post/java'),
                resolve(__dirname, '../post/guide'),
                resolve(__dirname, '../post/design'),
                resolve(__dirname, '../post/test'),
                resolve(__dirname, '../components'),
                resolve(__dirname, '../post/scm'),
                resolve(__dirname, '../post/project'),
                resolve(__dirname, '../post/ai'),
                resolve(__dirname, '../post/other'),
                resolve(__dirname, '../post/python'),
            ],
        ), pagefindPlugin({
            btnPlaceholder: '搜索',
            placeholder: '搜索文档',
            emptyText: '空空如也',
            heading: '共: {{searchResult}} 条结果',
        })],
        build: {
            target: 'esnext',
            minify: 'esbuild', // 混淆器，terser构建后文件体积更小
            sourcemap: false,
            assetsDir: 'static/img/', // 指定生成静态资源的存放路径
        },
    },
    themeConfig: {
        // lightModeSwitchTitle: '太阳',
        // search: {
        //   provider: 'local',
        //   options: {
        //     locales: {
        //       root: { // make this `root` if you want to translate the default locale
        //         translations: {
        //           button: {
        //             buttonText: '搜索',
        //             buttonAriaLabel: '搜索',
        //           },
        //           modal: {
        //             displayDetails: '显示详细列表',
        //             resetButtonTitle: '重置搜索',
        //             backButtonTitle: '关闭搜索',
        //             noResultsText: '没有结果',
        //             footer: {
        //               selectText: '选择',
        //               selectKeyAriaLabel: '输入',
        //               navigateText: '导航',
        //               navigateUpKeyAriaLabel: '上箭头',
        //               navigateDownKeyAriaLabel: '下箭头',
        //               closeText: '关闭',
        //               closeKeyAriaLabel: 'esc',
        //             },
        //           },
        //         },
        //       },
        //     },
        //   },
        // },
        outline: {
            level: 'deep',
            label: '  ',
        },
        footer: {
            message: 'Released under the MIT License.',
            copyright: 'Copyright © 2019-present Evan You',
        },
        siteTitle: '西魏陶渊明',
        logo: 'https://img.springlearn.cn/learn_d98f09cdad8fa38168ec59c15a508490.ico',
        // https://vitepress.dev/reference/default-theme-config
        nav,
        // sidebar: buildSidebars(),
        socialLinks: [
            {
                icon: {svg: '<svg t="1728444700627" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4409" width="200" height="200"><path d="M616.799374 841.200964c1.599983-3.993957 3.122966-7.918915 4.64195-11.758874 9.2839-24.968732 27.306707-68.399265-7.525919-83.114107a328.390472 328.390472 0 0 1-49.834464-25.992721 163.991238 163.991238 0 0 1-37.546597-41.676552 64.853303 64.853303 0 0 1-18.533801-36.726606 145.712435 145.712435 0 0 1 20.47978-54.390415 345.889284 345.889284 0 0 1 30.873668-51.19945c16.72482-23.039753 43.519533-55.363405 71.999227-63.282321a30.156676 30.156676 0 0 1 40.720562 15.205837 214.1307 214.1307 0 0 1 26.399717 80.399136 117.533737 117.533737 0 0 1-3.685961 24.799734 297.510804 297.510804 0 0 0-0.562993 42.239546c0 21.281771-6.962925 46.472501 12.407866 61.999334a76.406179 76.406179 0 0 1 31.112666 50.960453 174.914121 174.914121 0 0 1-21.36777 64.852303c-11.519876 24.799734-24.16674 49.117472-35.839615 73.915206a131.154591 131.154591 0 0 0-9.999893 58.487372c0 26.96471-32.323653 24.643735-51.591446 25.036731a39.254578 39.254578 0 0 1-19.045795-1.364986c-3.839959-2.081978-4.799948-5.921936-6.160934-9.847894a64.857303 64.857303 0 0 1-3.276965-11.672874c-4.228955-37.1916 12.736863-72.791218 26.336717-106.868852z" fill="#2F2F2F" p-id="4410"></path><path d="M245.432364 96.487964a53.572425 53.572425 0 0 1 8.635907-11.519877 156.636317 156.636317 0 0 1 74.393201-36.965603c12.321868-3.122966 32.716649-10.478887 41.113558 4.232955 4.399953 7.764917 1.84298 11.946872-3.75496 17.919807a22.186762 22.186762 0 0 0-6.830926 22.952754c0.95599 6.314932 40.95956 8.157912 46.4725 9.044903a280.017992 280.017992 0 0 1 29.012689 8.635907c13.362856 3.515962 76.799175-4.232955 61.43934 26.555715-3.839959 7.918915-22.390759 11.434877-20.325782 21.281771 3.276965 15.922829 38.723584 9.846894 50.004463 10.799884 9.522898 0.799991 16.554822 3.924958 17.356814 15.205837 0.799991 11.946872-6.826927 11.758874-15.359835 17.356813-3.993957 2.644972-13.192858 9.846894-13.192859 15.120838 0.238997 8.532908 11.519876 9.3529 17.599811 10.888883a92.899002 92.899002 0 0 0 23.892744 2.166977c6.826927 0 21.281771-2.644972 26.640713 1.518983 19.52379 15.120838-19.438791 25.992721-20.240782 37.443598-1.194987 17.066817 40.805562 14.079849 52.15544 19.045795 7.833916 3.412963 9.3529 9.113902 8.635907 17.834809-1.194987 12.406867-9.522898 12.953861-16.878819 21.674767-16.076827 19.045795 35.446619 7.048924 27.199708 32.426652-3.276965 10.478887-17.441813 20.086784-25.991721 25.99272a180.753058 180.753058 0 0 1-60.722348 24.407738 117.758735 117.758735 0 0 1-51.523446 6.160934c-5.273943-1.364985-7.764917-5.682939-11.280879-8.805905a116.872745 116.872745 0 0 1-17.066817-15.683832c-17.199815-23.193751-29.524683-49.919464-54.476414-66.713283a104.308879 104.308879 0 0 1-25.599725-22.186762c-6.160934-7.525919-14.472845-18.772798-25.991721-16.878819a293.086852 293.086852 0 0 1-28.399695-44.953517c-18.393802-29.353685-36.958603-58.792368-55.428405-88.233052-4.880948-7.679918-9.199901-16.315825-14.728842-23.517747-4.400953-5.59694-10.716885-8.634907-15.200836-13.840852a16.332825 16.332825 0 0 1-1.557983-19.369791z" fill="#B89278" p-id="4411"></path><path d="M743.860009 409.996596a30.173676 30.173676 0 0 1 2.559973-29.763681c24.23374-46.235503 75.843185-29.352685 113.764778-12.644864a554.543043 554.543043 0 0 0 81.356126 33.599639 116.564748 116.564748 0 0 0 37.119601 4.317954c12.645864-0.630993 28.399695-3.276965 34.952625 10.632886a50.431458 50.431458 0 0 1-6.314933 41.283556c-42.393545 70.160246-146.771423 66.559285-200.479846 12.475866-10.23989-10.23989-20.086784-20.633778-30.71967-30.326674-11.758874-10.526887-26.02672-18.120805-32.238654-29.574682z" fill="#B89278" p-id="4412"></path><path d="M817.194222 679.035706a165.206225 165.206225 0 0 0 25.275728-67.361277 330.910445 330.910445 0 0 0 3.924958-71.525231 137.930518 137.930518 0 0 0-7.030925-41.91555 328.214474 328.214474 0 0 0-18.636799-34.235632 180.906057 180.906057 0 0 0-56.319395-64.323309 184.813015 184.813015 0 0 0-120.557705-28.074699c-43.673531 2.320975-84.240095 15.359835-123.441674-10.393888a334.042412 334.042412 0 0 1-91.766015-95.844971c-13.277857-21.042774-24.473737-43.365534-36.641606-65.040301 0.477995-15.752831 3.75496-43.604532 3.839959-43.604531 0.153998-1.433985 29.285685-12.953861 32.153654-14.799841a66.746283 66.746283 0 0 0 26.07772-26.399717c9.199901-18.243804 12.799863-45.277514-11.946871-52.394437a77.738165 77.738165 0 0 0-59.357363 13.192858c-15.035838 9.608897-47.44449 34.713627-47.44449 34.713627a317.44159 317.44159 0 0 1-43.519533-7.355921 237.102453 237.102453 0 0 1-55.276406-21.673767s-12.475866-31.043667-18.243804-46.881496a62.156332 62.156332 0 0 0-13.417856-23.26275c-15.035838-14.966839-32.238654-5.119945-43.126536 7.999914a49.970463 49.970463 0 0 0-11.19988 50.073462 356.315172 356.315172 0 0 0 16.878819 39.833572s-24.404738 21.759766-33.364642 31.914657a134.142559 134.142559 0 0 0-23.363749 34.799626c-11.519876 25.753723-21.36677 54.408416-34.235632 80.399137-21.124773 42.567543-54.319416 79.926141-65.668295 127.113634a92.705004 92.705004 0 0 0 60.006356 110.557812 129.261611 129.261611 0 0 0 103.439888 0.886991c25.206729-11.946872 42.478544-33.364642 64.084312-50.24346a243.111388 243.111388 0 0 1 13.652853 22.646756 320.25256 320.25256 0 0 1 28.87669 75.365191 265.722146 265.722146 0 0 1 4.232955 69.83625c-0.392996 20.087784-4.399953 33.910636 5.682939 52.906431a107.99884 107.99884 0 0 0 22.186761 25.992721 127.998625 127.998625 0 0 0 52.325438 32.426652 490.420732 490.420732 0 0 0 63.845314 16.076827c21.605768 3.75496 43.280535 3.993957 64.955303 6.245933a134.281558 134.281558 0 0 0 56.473393-13.92585c19.52379-7.525919 38.484587-16.485823 57.68438-24.712735a403.880661 403.880661 0 0 1 51.677445-19.114795 103.30489 103.30489 0 0 1 27.766702-2.883969 30.582671 30.582671 0 0 1 20.47978 8.310911 47.138494 47.138494 0 0 0 21.36577 11.946872c4.965947 0.562994 9.676896 0.392996 14.399846 1.364985a62.599328 62.599328 0 0 0 29.999677 1.433985 101.342911 101.342911 0 0 0 30.872669-17.599811 72.692219 72.692219 0 0 0 12.390867-12.475866z" fill="#855C52" p-id="4413"></path><path d="M281.186979 295.448826a29.79968 29.79968 0 0 1-26.077719-38.399587 27.135709 27.135709 0 0 1 27.199707-22.954754c40.315567 2.952968 41.117558 66.150289-1.121988 61.354341z" fill="#2F2F2F" p-id="4414"></path><path d="M893.993397 759.60584c-7.116924-25.838722-32.153655-44.082526-35.44662-72.072226-3.839959-32.799648 7.116924-64.852303 6.638929-97.517952a209.141753 209.141753 0 0 0-9.044903-50.482458 190.988948 190.988948 0 0 0-13.430856-36.965603c-1.125988-2.320975-2.952968-7.679918-5.119945-9.113902-1.706982-1.194987-4.64195-0.716992-6.962925-0.95599a141.271482 141.271482 0 0 0-18.073806-2.799969h-59.52936c-7.679918 0-15.035838-1.040989-22.799755-1.040989-8.805905 0-17.526812 0.88699-26.230718 1.125988-30.565672 0.648993-61.43934 7.047924-91.920013 9.999892-42.239546 4.078956-82.636112 16.161826-125.353653 15.922829-24.950732 0-49.834465 2.235976-74.870196 2.235976h-57.359384c-14.079849 0-28.074698-2.320975-42.239546-0.88699a177.185097 177.185097 0 0 1-37.2736 4.163955 99.138935 99.138935 0 0 1-10.717885 79.922141 694.45254 694.45254 0 0 1-65.281298 76.235182 79.820143 79.820143 0 0 0-21.111774 74.956194c3.599961 19.114795 9.676896 37.546597 14.88184 56.165397a213.980701 213.980701 0 0 0 14.643843 48.729477 119.941712 119.941712 0 0 0 37.921593 37.358598 46.079505 46.079505 0 0 0 35.277621 12.475866 46.079505 46.079505 0 0 0 26.640714-29.832679 58.469372 58.469372 0 0 0-3.412964-41.199558 48.093483 48.093483 0 0 0-19.284793-14.728842c-12.475866-7.525919-16.878819-30.565672-19.762787-43.365534-3.412963-15.359835-6.314932-31.67566 9.199901-40.635563a131.885583 131.885583 0 0 1 31.845658-13.192858 85.67208 85.67208 0 0 1 35.993613-7.999915 171.711155 171.711155 0 0 1 48.247482 22.799756 23.654746 23.654746 0 0 1 10.887883 19.762787 257.613233 257.613233 0 0 1 2.081978 29.525683c0 22.799755 1.125988 45.840508 1.125988 68.88026v37.921593c0 20.47978-1.125988 40.720563-1.125988 61.115343 0 12.560865-1.040989 25.12173-1.040989 37.768595a43.026538 43.026538 0 0 0 2.166977 17.199815 15.888829 15.888829 0 0 0 11.673874 6.826926 105.592866 105.592866 0 0 0 26.316717 1.91098 49.287471 49.287471 0 0 0 28.637693-6.826927c8.072913-5.682939 7.030924-20.47978 6.160934-29.012688a348.820253 348.820253 0 0 1 8.532908-121.444695c7.286922-29.999678 22.083763-56.79939 31.199665-86.083076a52.479436 52.479436 0 0 1 39.952571-37.324599c8.072913-2.474973 16.79382-3.412963 25.12173-5.511941a662.503883 662.503883 0 0 0 74.870195-27.766701c9.3529-3.599961 26.640714-12.953861 35.839615-5.273944a156.619318 156.619318 0 0 1 16.79382 22.476759 98.166945 98.166945 0 0 0 22.408759 21.43577 331.908435 331.908435 0 0 0 49.829465 25.98872c15.83783 6.638929 17.356814 11.604875 17.199815 27.510705a186.326998 186.326998 0 0 1-13.123859 60.005355c-5.682939 16.554822-10.393888 33.51864-15.359835 50.31246-6.48493 22.186762-15.683832 56.319395-5.682939 78.966152 3.993957 9.113902 19.045795 9.2839 27.306707 9.676896a82.330116 82.330116 0 0 0 39.679574-9.522898 13.857851 13.857851 0 0 0 9.522897-15.359835 219.053647 219.053647 0 0 1 5.443942-59.118365 596.410593 596.410593 0 0 1 27.766702-64.562306c10.888883-25.445727 26.879711-57.036387 20.872775-85.435083a18.067806 18.067806 0 0 1-1.123987-3.341964z" fill="#855C52" p-id="4415"></path><path d="M280.878983 818.400209s1.365985 70.245245-45.123516 69.443254l5.836938 16.639821 42.478543 22.408759 39.764573-19.933786 11.280879-59.732358-18.6318-36.181611z" fill="#78A3AD" p-id="4416"></path><path d="M402.393677 969.284588s23.756745 17.356814 72.874218 1.194987l21.759766 13.755852-2.474974 54.799411-115.847755-1.278986 4.965947-58.555371z" fill="#78A3AD" p-id="4417"></path><path d="M761.266822 944.640852s24.950732 22.408759 80.008141-0.799991l10.085892 6.075935 2.166976 55.363405-94.086989 10.477888-16.639821-44.953518z" fill="#78A3AD" p-id="4418"></path><path d="M145.031442 450.805157a32.767648 32.767648 0 0 1-22.186762 5.921937c-6.826927-1.364985-13.99485-7.286922-10.23989-15.120838a30.72067 30.72067 0 0 1 12.318868-11.605875c5.921936-3.412963 23.363749-8.720906 28.87669-2.081978 7.067924 8.498909-1.566983 18.6538-8.768906 22.886754z" fill="#2F2F2F" p-id="4419"></path></svg>'},
                link: 'https://java.springlearn.cn/',
                // 也可以为无障碍添加一个自定义标签 (可选但推荐):
                ariaLabel: 'cool link',
            },
        ],
    },
});
