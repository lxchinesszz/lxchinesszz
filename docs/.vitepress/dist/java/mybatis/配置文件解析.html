<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第02篇:Mybatis配置文件解析 | 编程牛马</title>
    <meta name="description" content="From Arco">
    <meta name="generator" content="VitePress v1.0.1">
    <link rel="preload stylesheet" href="/assets/style.DKJNI7L8.css" as="style">
    
    <script type="module" src="/assets/app.e8ZMbQMV.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.CNwWRMUb.js">
    <link rel="modulepreload" href="/assets/chunks/framework.bT2BobGK.js">
    <link rel="modulepreload" href="/assets/java_mybatis_配置文件解析.md.DFpUihXA.lean.js">
    <link rel="icon" type="image/svg+xml" href="https://img.springlearn.cn/learn_d98f09cdad8fa38168ec59c15a508490.ico">
    <link rel="icon" type="image/png" href="https://img.springlearn.cn/learn_d98f09cdad8fa38168ec59c15a508490.ico">
    <script src="https://cdn.bootcdn.net/ajax/libs/animejs/3.2.2/anime.min.js"></script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-cc1ba026><!--[--><!--]--><!--[--><span tabindex="-1" data-v-e68e8c18></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-e68e8c18> Skip to content </a><!--]--><!----><header class="VPNav" data-v-cc1ba026 data-v-a44059a8><div class="VPNavBar" data-v-a44059a8 data-v-981bc233><div class="wrapper" data-v-981bc233><div class="container" data-v-981bc233><div class="title" data-v-981bc233><div class="VPNavBarTitle has-sidebar" data-v-981bc233 data-v-5d3a26c4><a class="title" href="/" data-v-5d3a26c4><!--[--><!--]--><!--[--><img class="VPImage logo" src="https://img.springlearn.cn/learn_d98f09cdad8fa38168ec59c15a508490.ico" alt data-v-04f73b3b><!--]--><span data-v-5d3a26c4>西魏陶渊明</span><!--[--><!--]--></a></div></div><div class="content" data-v-981bc233><div class="content-body" data-v-981bc233><!--[--><!--]--><div class="VPNavBarSearch search" data-v-981bc233><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-981bc233 data-v-bb50550f><span id="main-nav-aria-label" class="visually-hidden" data-v-bb50550f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-bb50550f data-v-1815b0be><!--[--><span data-v-1815b0be>首页</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-bb50550f data-v-d85d037d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-d85d037d><span class="text" data-v-d85d037d><!----><span data-v-d85d037d>技术</span><span class="vpi-chevron-down text-icon" data-v-d85d037d></span></span></button><div class="menu" data-v-d85d037d><div class="VPMenu" data-v-d85d037d data-v-89a3c435><div class="items" data-v-89a3c435><!--[--><!--[--><div class="VPMenuGroup" data-v-89a3c435 data-v-76d75dec><p class="title" data-v-76d75dec>前端</p><!--[--><!--[--><div class="VPMenuLink" data-v-76d75dec data-v-0b762f2f><a class="VPLink link" href="/guide/" data-v-0b762f2f><!--[-->JavaScript<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-76d75dec data-v-0b762f2f><a class="VPLink link" href="/components/" data-v-0b762f2f><!--[-->VUI<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-89a3c435 data-v-76d75dec><p class="title" data-v-76d75dec>后端</p><!--[--><!--[--><div class="VPMenuLink" data-v-76d75dec data-v-0b762f2f><a class="VPLink link" href="/java/" data-v-0b762f2f><!--[-->Java<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-76d75dec data-v-0b762f2f><a class="VPLink link" href="/python/" data-v-0b762f2f><!--[-->Python<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-76d75dec data-v-0b762f2f><a class="VPLink link" href="/test/" data-v-0b762f2f><!--[-->Testing<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuLink" data-v-89a3c435 data-v-0b762f2f><a class="VPLink link" href="/project/" data-v-0b762f2f><!--[-->项目<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89a3c435 data-v-0b762f2f><a class="VPLink link" href="/ai/" data-v-0b762f2f><!--[-->AI<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/design/" tabindex="0" data-v-bb50550f data-v-1815b0be><!--[--><span data-v-1815b0be>生活</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/scm/" tabindex="0" data-v-bb50550f data-v-1815b0be><!--[--><span data-v-1815b0be>供应链</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-bb50550f data-v-d85d037d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-d85d037d><span class="text" data-v-d85d037d><!----><span data-v-d85d037d>志同道合</span><span class="vpi-chevron-down text-icon" data-v-d85d037d></span></span></button><div class="menu" data-v-d85d037d><div class="VPMenu" data-v-d85d037d data-v-89a3c435><div class="items" data-v-89a3c435><!--[--><!--[--><div class="VPMenuLink" data-v-89a3c435 data-v-0b762f2f><a class="VPLink link vp-external-link-icon" href="https://me.yicode.tech/" target="_blank" rel="noreferrer" data-v-0b762f2f><!--[-->陈随易<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-89a3c435 data-v-0b762f2f><a class="VPLink link vp-external-link-icon" href="https://vue-compiler.iamouyang.cn/" target="_blank" rel="noreferrer" data-v-0b762f2f><!--[-->Vue3<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-bb50550f data-v-d85d037d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-d85d037d><span class="text" data-v-d85d037d><!----><span data-v-d85d037d>知识库</span><span class="vpi-chevron-down text-icon" data-v-d85d037d></span></span></button><div class="menu" data-v-d85d037d><div class="VPMenu" data-v-d85d037d data-v-89a3c435><div class="items" data-v-89a3c435><!--[--><!--[--><div class="VPMenuGroup" data-v-89a3c435 data-v-76d75dec><p class="title" data-v-76d75dec>前端知识库</p><!--[--><!--[--><div class="VPMenuLink" data-v-76d75dec data-v-0b762f2f><a class="VPLink link vp-external-link-icon" href="https://www.prettier.cn/" target="_blank" rel="noreferrer" data-v-0b762f2f><!--[-->prettier<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-76d75dec data-v-0b762f2f><a class="VPLink link vp-external-link-icon" href="https://www.prettier.cn/playground/" target="_blank" rel="noreferrer" data-v-0b762f2f><!--[-->prettier online<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-76d75dec data-v-0b762f2f><a class="VPLink link vp-external-link-icon" href="https://eslint.org/docs/latest/use/getting-started" target="_blank" rel="noreferrer" data-v-0b762f2f><!--[-->eslint<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-76d75dec data-v-0b762f2f><a class="VPLink link vp-external-link-icon" href="https://eslint.org/play/" target="_blank" rel="noreferrer" data-v-0b762f2f><!--[-->eslint online<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-76d75dec data-v-0b762f2f><a class="VPLink link vp-external-link-icon" href="https://eslint.vuejs.org/user-guide/" target="_blank" rel="noreferrer" data-v-0b762f2f><!--[-->eslint vue<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-76d75dec data-v-0b762f2f><a class="VPLink link vp-external-link-icon" href="https://ota-meshi.github.io/eslint-plugin-vue-demo/" target="_blank" rel="noreferrer" data-v-0b762f2f><!--[-->eslint vue demo online<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-76d75dec data-v-0b762f2f><a class="VPLink link vp-external-link-icon" href="https://github.com/prettier/eslint-plugin-prettier" target="_blank" rel="noreferrer" data-v-0b762f2f><!--[-->eslint-plugin-prettier<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-76d75dec data-v-0b762f2f><a class="VPLink link vp-external-link-icon" href="https://github.com/prettier/eslint-config-prettier" target="_blank" rel="noreferrer" data-v-0b762f2f><!--[-->eslint-config-prettier<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-76d75dec data-v-0b762f2f><a class="VPLink link vp-external-link-icon" href="https://vitepress.dev/zh/reference/frontmatter-config" target="_blank" rel="noreferrer" data-v-0b762f2f><!--[-->VitePress<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-89a3c435 data-v-76d75dec><p class="title" data-v-76d75dec>Library</p><!--[--><!--[--><div class="VPMenuLink" data-v-76d75dec data-v-0b762f2f><a class="VPLink link vp-external-link-icon" href="https://animate.style/" target="_blank" rel="noreferrer" data-v-0b762f2f><!--[-->animate<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-76d75dec data-v-0b762f2f><a class="VPLink link vp-external-link-icon" href="https://anseki.github.io/leader-line/" target="_blank" rel="noreferrer" data-v-0b762f2f><!--[-->leader-line<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-76d75dec data-v-0b762f2f><a class="VPLink link vp-external-link-icon" href="https://github.com/catdad/canvas-confetti" target="_blank" rel="noreferrer" data-v-0b762f2f><!--[-->canvas-confetti<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-76d75dec data-v-0b762f2f><a class="VPLink link vp-external-link-icon" href="https://www.relation-graph.com/" target="_blank" rel="noreferrer" data-v-0b762f2f><!--[-->relation-graph<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-76d75dec data-v-0b762f2f><a class="VPLink link vp-external-link-icon" href="https://github.com/rough-stuff/rough-notation" target="_blank" rel="noreferrer" data-v-0b762f2f><!--[-->rough-notation<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-76d75dec data-v-0b762f2f><a class="VPLink link vp-external-link-icon" href="https://github.com/TahaSh/swapy" target="_blank" rel="noreferrer" data-v-0b762f2f><!--[-->swapy<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-76d75dec data-v-0b762f2f><a class="VPLink link vp-external-link-icon" href="https://loading.io/" target="_blank" rel="noreferrer" data-v-0b762f2f><!--[-->loading.io<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-981bc233 data-v-3550ab73><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-3550ab73 data-v-c8044ae1 data-v-dc8de353><span class="check" data-v-dc8de353><span class="icon" data-v-dc8de353><!--[--><span class="vpi-sun sun" data-v-c8044ae1></span><span class="vpi-moon moon" data-v-c8044ae1></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-981bc233 data-v-c8520d1b data-v-af8f8a0d><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-af8f8a0d data-v-a28a06c3><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-981bc233 data-v-26a493d2 data-v-d85d037d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-d85d037d><span class="vpi-more-horizontal icon" data-v-d85d037d></span></button><div class="menu" data-v-d85d037d><div class="VPMenu" data-v-d85d037d data-v-89a3c435><!----><!--[--><!--[--><!----><div class="group" data-v-26a493d2><div class="item appearance" data-v-26a493d2><p class="label" data-v-26a493d2>Appearance</p><div class="appearance-action" data-v-26a493d2><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-26a493d2 data-v-c8044ae1 data-v-dc8de353><span class="check" data-v-dc8de353><span class="icon" data-v-dc8de353><!--[--><span class="vpi-sun sun" data-v-c8044ae1></span><span class="vpi-moon moon" data-v-c8044ae1></span><!--]--></span></span></button></div></div></div><div class="group" data-v-26a493d2><div class="item social-links" data-v-26a493d2><div class="VPSocialLinks social-links-list" data-v-26a493d2 data-v-af8f8a0d><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-af8f8a0d data-v-a28a06c3><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-981bc233 data-v-3e2dfddf><span class="container" data-v-3e2dfddf><span class="top" data-v-3e2dfddf></span><span class="middle" data-v-3e2dfddf></span><span class="bottom" data-v-3e2dfddf></span></span></button></div></div></div></div><div class="divider" data-v-981bc233><div class="divider-line" data-v-981bc233></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-cc1ba026 data-v-6a47f562><div class="container" data-v-6a47f562><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-6a47f562><span class="vpi-align-left menu-icon" data-v-6a47f562></span><span class="menu-text" data-v-6a47f562>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-6a47f562 data-v-c65dcd3d><button data-v-c65dcd3d>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-cc1ba026 data-v-f8ec9797><div class="curtain" data-v-f8ec9797></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-f8ec9797><span class="visually-hidden" id="sidebar-aria-label" data-v-f8ec9797> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-f8ec9797><section class="VPSidebarItem level-0 collapsible is-link" data-v-f8ec9797 data-v-40c67829><div class="item" tabindex="0" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/index.html" data-v-40c67829><!--[--><h2 class="text" data-v-40c67829>Java进阶</h2><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-40c67829><span class="vpi-chevron-right caret-icon" data-v-40c67829></span></div></div><div class="items" data-v-40c67829><!--[--><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/BlockingQueue.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>Java并发包队列之BlockingQueue</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/Condition.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>没有条件创造条件Condition</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/Contended.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>性能优化之@Contended减少伪共享</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/CountDownLatch.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>倒计锁 CountDownLatch</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/CyclicBarrier.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>循环锁屏障 CyclicBarrier</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/HashMap.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>面试再也不怕被HashMap欺负了</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/JMX.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>Java管理扩展</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/Java%E5%BC%82%E5%B8%B8%E4%BD%93%E7%B3%BB.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>Java异常体系</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/ReadWriteLock.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>读写锁 ReadWriteLock</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/ReentrantLock.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>重入锁 ReentrantLock</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/SPI.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>SPI服务发现机制</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/Semaphore.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>信号量 Semaphore</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/hooks%E5%87%BD%E6%95%B0.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>JVM钩子hooks函数</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/synchronized.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>synchronized锁升级</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>Lambda函数式编程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>分布式锁</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>线程安全之原子操作</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/%E5%9B%9B%E5%A4%A7%E5%BC%95%E7%94%A8.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>Java四大引用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/%E5%A7%94%E6%B4%BE%E5%8F%8C%E4%BA%B2%E4%B9%8B%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>委派双亲之类加载器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/%E6%8B%92%E7%BB%9D%E7%AD%96%E7%95%A5.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>成熟的线程要懂得拒绝</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>线程安全感</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/%E7%BA%BF%E7%A8%8B%E5%B7%A5%E5%8E%82.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>开个工厂造线程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/%E7%BA%BF%E7%A8%8B%E6%B1%A0.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>线程池扫盲</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%B7%A5%E4%BD%9C%E7%8A%B6%E6%80%81.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>线程状态</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/%E7%BA%BF%E7%A8%8B%E7%BB%84.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>给线程归归类</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/%E7%BA%BF%E7%A8%8B%E9%9A%94%E7%A6%BB.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>多线程之线程隔离</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-f8ec9797><section class="VPSidebarItem level-0 collapsible" data-v-f8ec9797 data-v-40c67829><div class="item" role="button" tabindex="0" data-v-40c67829><div class="indicator" data-v-40c67829></div><h2 class="text" data-v-40c67829>Dubbo</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-40c67829><span class="vpi-chevron-right caret-icon" data-v-40c67829></span></div></div><div class="items" data-v-40c67829><!--[--><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/dubbo/Dubbo%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E4%B9%8B%E5%AE%A2%E6%88%B7%E7%AB%AFConsumer.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>dubbo 客户端调用流程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/dubbo/Dubbo%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E4%B9%8B%E6%9C%8D%E5%8A%A1%E7%AB%AFProvider.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>dubbo 服务端注册流程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/dubbo/dubbo%E6%95%B4%E5%90%88spring%E7%9A%84%E4%B8%A4%E7%A7%8D%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>dubbo适配Spring原理</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-f8ec9797><section class="VPSidebarItem level-0 collapsible is-link has-active" data-v-f8ec9797 data-v-40c67829><div class="item" tabindex="0" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/mybatis/README.html" data-v-40c67829><!--[--><h2 class="text" data-v-40c67829>Mybatis</h2><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-40c67829><span class="vpi-chevron-right caret-icon" data-v-40c67829></span></div></div><div class="items" data-v-40c67829><!--[--><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/mybatis/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第01篇:Mybatis学习之环境搭建</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/mybatis/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第02篇:Mybatis配置文件解析</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/mybatis/%E6%A0%B8%E5%BF%83%E7%B1%BB%E4%BB%8B%E7%BB%8D.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第03篇:Mybatis核心类详细介绍</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/mybatis/Mapper%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第04篇:Mybatis代理对象生成</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/mybatis/Mybatis%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第05篇:Mybatis的SQL执行流程分析</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/mybatis/Mybatis%E4%B8%80%E7%BA%A7%E4%BA%8C%E7%BA%A7%E7%BC%93%E5%AD%98%E8%AE%BE%E8%AE%A1.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第06篇:Mybatis缓存设计</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/mybatis/Mybatis%E7%BC%93%E5%AD%98%E8%AE%BE%E8%AE%A1.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第07篇:Mybatis缓存装饰器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/mybatis/%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第08篇:Mybatis事务处理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/mybatis/Spring%E4%BA%8B%E5%8A%A1%E6%95%B4%E5%90%88.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第09篇:Spring处理Mybatis事务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/mybatis/%E6%8F%92%E4%BB%B6%E5%88%86%E6%9E%90.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第10篇:Mybatis的插件设计分析</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/mybatis/LimitPlugin.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第11篇:Mybatis查询限制插件设计</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/mybatis/PagePlugin.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第12篇:Mybatis分页插件设计</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/mybatis/AuthPlugin.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第13篇:Mybatis权限插件设计</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/mybatis/MetaObject.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第14篇:Mybatis中反射工具</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/mybatis/Mybatissql%E6%97%A5%E5%BF%97%E6%89%93%E5%8D%B0.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第15篇:Mybatis中打印Sql信息</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-f8ec9797><section class="VPSidebarItem level-0 collapsible is-link" data-v-f8ec9797 data-v-40c67829><div class="item" tabindex="0" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/index.html" data-v-40c67829><!--[--><h2 class="text" data-v-40c67829>Spring Framework</h2><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-40c67829><span class="vpi-chevron-right caret-icon" data-v-40c67829></span></div></div><div class="items" data-v-40c67829><!--[--><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/core01.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第01篇:搞定Spring容器管理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/core02.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第02篇:解耦就用Event</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/core03.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第03篇:Validation参数校验</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/core04.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第04篇:Resources资源文件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/core05.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第05篇:SpEL强大的表达式语言</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/core06.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第06篇:AOP面向切面编程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/core07.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第07篇:Converter SPI类型转换</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/core08.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第08篇:Data Binding类型绑定</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/core09.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第09篇:MessageSource国际化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/core11.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第09篇:Formatter 格式转换</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/core10.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>第10篇:Spring Webflux</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/AOP.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>AOP 使用指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/EL.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>Spring EL表达式使用指南</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-f8ec9797><section class="VPSidebarItem level-0 collapsible is-link" data-v-f8ec9797 data-v-40c67829><div class="item" tabindex="0" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/index.html" data-v-40c67829><!--[--><h2 class="text" data-v-40c67829>SpringBoot</h2><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-40c67829><span class="vpi-chevron-right caret-icon" data-v-40c67829></span></div></div><div class="items" data-v-40c67829><!--[--><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/Endpoint%E7%9B%91%E6%8E%A7%E7%AB%AF%E7%82%B9%E6%89%A9%E5%B1%95.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>Spring Boot Endpoint监控端点扩展</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/Spring%E5%A3%B0%E6%98%8E%E5%BC%8F%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>Spring声明式事务的实现方案?</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/Web%E6%8E%A5%E5%8F%A3%E8%B5%84%E6%BA%90%E6%98%AF%E5%A6%82%E4%BD%95%E4%BF%9D%E5%AD%98%E8%B5%B7%E6%9D%A5%E7%9A%84.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>Web接口资源是如何保存起来的?</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-f8ec9797><section class="VPSidebarItem level-0 collapsible is-link" data-v-f8ec9797 data-v-40c67829><div class="item" tabindex="0" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/index.html" data-v-40c67829><!--[--><h2 class="text" data-v-40c67829>Spring</h2><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-40c67829><span class="vpi-chevron-right caret-icon" data-v-40c67829></span></div></div><div class="items" data-v-40c67829><!--[--><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/FactoryBean%E6%8E%A5%E5%8F%A3%E5%AE%9E%E4%BE%8B%E5%8C%96.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>FactoryBean接口实例化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/Spring%E5%8A%A8%E6%80%81%E7%BB%91%E5%AE%9A%E9%85%8D%E7%BD%AE.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>动态绑定配置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/Spring%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>Spring循环依赖</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/spring/spring-retry.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>Spring-retry重试组件</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-f8ec9797><section class="VPSidebarItem level-0 collapsible is-link" data-v-f8ec9797 data-v-40c67829><div class="item" tabindex="0" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/tools/arthas/README.html" data-v-40c67829><!--[--><h2 class="text" data-v-40c67829>Arthas</h2><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-40c67829><span class="vpi-chevron-right caret-icon" data-v-40c67829></span></div></div><div class="items" data-v-40c67829><!--[--><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/tools/arthas/base-cli.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>基础命令</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/tools/arthas/class-cli.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>class/classloader相关</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/tools/arthas/jvm-cli.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>JVM相关命令</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/tools/arthas/learn.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>基础教程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/tools/arthas/watch-cli.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>monitor/watch/trace相关</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-f8ec9797><section class="VPSidebarItem level-0 collapsible" data-v-f8ec9797 data-v-40c67829><div class="item" role="button" tabindex="0" data-v-40c67829><div class="indicator" data-v-40c67829></div><h2 class="text" data-v-40c67829>字节码增强</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-40c67829><span class="vpi-chevron-right caret-icon" data-v-40c67829></span></div></div><div class="items" data-v-40c67829><!--[--><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/tools/bytecode/Javassist.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>Javassist</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-f8ec9797><section class="VPSidebarItem level-0 collapsible is-link" data-v-f8ec9797 data-v-40c67829><div class="item" tabindex="0" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/tools/guava/README.html" data-v-40c67829><!--[--><h2 class="text" data-v-40c67829>Guava</h2><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-40c67829><span class="vpi-chevron-right caret-icon" data-v-40c67829></span></div></div><div class="items" data-v-40c67829><!--[--><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/tools/guava/guava-cache.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>Guava-cache</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/tools/guava/guava-map.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>Guava-Map</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/tools/guava/guava-retry.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>Guava-retry重试组件</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-f8ec9797><section class="VPSidebarItem level-0 collapsible is-link" data-v-f8ec9797 data-v-40c67829><div class="item" tabindex="0" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/tools/pool2/README.html" data-v-40c67829><!--[--><h2 class="text" data-v-40c67829>字符串常量池</h2><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-40c67829><span class="vpi-chevron-right caret-icon" data-v-40c67829></span></div></div><div class="items" data-v-40c67829><!--[--><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/tools/pool2/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>字符串常量池</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-f8ec9797><section class="VPSidebarItem level-0 collapsible is-link" data-v-f8ec9797 data-v-40c67829><div class="item" tabindex="0" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/tools/reactor/README.html" data-v-40c67829><!--[--><h2 class="text" data-v-40c67829>反应式编程</h2><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-40c67829><span class="vpi-chevron-right caret-icon" data-v-40c67829></span></div></div><div class="items" data-v-40c67829><!--[--><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/tools/reactor/webflux.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>Reactive 反应式编程</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-f8ec9797><section class="VPSidebarItem level-0 collapsible is-link" data-v-f8ec9797 data-v-40c67829><div class="item" tabindex="0" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/tools/reflections/index.html" data-v-40c67829><!--[--><h2 class="text" data-v-40c67829>Reflections</h2><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-40c67829><span class="vpi-chevron-right caret-icon" data-v-40c67829></span></div></div><div class="items" data-v-40c67829><!--[--><div class="VPSidebarItem level-1 is-link" data-v-40c67829 data-v-40c67829><div class="item" data-v-40c67829><div class="indicator" data-v-40c67829></div><a class="VPLink link link" href="/java/tools/reflections/Java%E6%B3%9B%E5%9E%8B.html" data-v-40c67829><!--[--><p class="text" data-v-40c67829>Java泛型体系知识学习</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-cc1ba026 data-v-0150ce00><div class="VPDoc has-sidebar has-aside" data-v-0150ce00 data-v-706d3dc9><!--[--><!--]--><div class="container" data-v-706d3dc9><div class="aside" data-v-706d3dc9><div class="aside-curtain" data-v-706d3dc9></div><div class="aside-container" data-v-706d3dc9><div class="aside-content" data-v-706d3dc9><div class="VPDocAside" data-v-706d3dc9 data-v-064d3f2b><!--[--><!--]--><!--[--><!--[--><!--[--><!--[--><div><img src="https://img.springlearn.cn/learn_c3d5074d94563b8297f81633f171d230.jpeg" alt="sideAds"></div><!--]--><!--]--><!--]--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-064d3f2b data-v-474684fe><div class="content" data-v-474684fe><div class="outline-marker" data-v-474684fe></div><div class="outline-title" role="heading" aria-level="2" data-v-474684fe>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-474684fe><span class="visually-hidden" id="doc-outline-aria-label" data-v-474684fe> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-474684fe data-v-2809134a><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-064d3f2b></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-706d3dc9><div class="content-container" data-v-706d3dc9><!--[--><!--]--><main class="main" data-v-706d3dc9><div style="position:relative;" class="vp-doc _java_mybatis_%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90" data-v-706d3dc9><div><!----><h2 id="一、配置文件分析" tabindex="-1">一、配置文件分析 <a class="header-anchor" href="#一、配置文件分析" aria-label="Permalink to &quot;一、配置文件分析&quot;">​</a></h2><p>::: note 文件分析 在上一篇的代码中,我们看到了一个非常重要文件,这里我们先来人肉分析看,然后看下代码是如何解析的,毕竟代码也是人写的。 思路决定出路,我们如果有思路,然后在看源码会更加的具有分析的能动性。 :::</p><span class="VPBadge warn"><!--[-->mybatisConfig.xml<!--]--></span><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Test</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 读取配置信息(为什么路径前不用加/,因为是相对路径。maven编译后的资源文件和class文件都是在一个包下,所以不用加/就是当前包目录)</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        InputStream mapperInputStream </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Thread.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentThread</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getContextClassLoader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getResourceAsStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mybatisConfig.xml&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 生成SqlSession工厂,SqlSession从名字上看就是,跟数据库交互的会话信息,负责将sql提交到数据库进行执行</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        SqlSessionFactory sqlSessionFactory </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SqlSessionFactoryBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(mapperInputStream, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;development&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 获取Mybatis配置信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Configuration configuration </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sqlSessionFactory.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 参数: autoCommit,从名字上看就是是否自动提交事务</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        SqlSession sqlSession </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sqlSessionFactory.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openSession</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 获取Mapper</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        TUserMapper mapper </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> configuration.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMapperRegistry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMapper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(TUserMapper.class, sqlSession);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        TUser tUser </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        tUser.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;testUser1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        tUser.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setTokenId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;testTokenId1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        mapper.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">insert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tUser);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 获取插入的数据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(mapper.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">selectAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 数据插入后，执行查询，然后回滚数据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        sqlSession.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rollback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_1-1-mybatisconfig-xml" tabindex="-1">1.1 mybatisConfig.xml <a class="header-anchor" href="#_1-1-mybatisconfig-xml" aria-label="Permalink to &quot;1.1 mybatisConfig.xml&quot;">​</a></h3><div class="tip custom-block"><p class="custom-block-title">注意看高亮行</p><ol><li>line(4) dtd文件是xml的约束文件,用于约束 <code>xml</code> 标签中属性</li><li>line(8) properties标签,指定了配置信息文件是 <code>application.properties</code></li><li>line(11-13) mybatis的配置信息</li><li>line(15-27) mybatis支持多环境配置</li><li>line(30-32) 映射文件</li></ol></div><p>基于上面的行，我们来讲解。</p><div class="language-xml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;?</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">xml</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.0&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> encoding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;UTF-8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ?&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;!</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DOCTYPE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> configuration</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    &lt;!-- 指定properties配置文件， 我这里面配置的是数据库相关 --&gt;</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">properties</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> resource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;application.properties&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">properties</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    &lt;!-- 指定Mybatis使用log4j --&gt;</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">settings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">setting</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;logImpl&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;LOG4J&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">settings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">environments</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;development&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">environment</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;development&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">transactionManager</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JDBC&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dataSource</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;POOLED&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line highlighted"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                &lt;!-- 上面指定了数据库配置文件， 配置文件里面也是对应的这四个属性 --&gt;</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;driver&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;${datasource.driver-class-name}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;url&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;${datasource.url}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;username&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;${datasource.username}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">property</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;password&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;${datasource.password}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line highlighted"><wbr></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dataSource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">environments</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    &lt;!-- 映射文件，mybatis精髓， 后面才会细讲 --&gt;</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mappers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mapper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> resource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mapper/TUserMapper.xml&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mappers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h2 id="二、知识点讲解" tabindex="-1">二、知识点讲解 <a class="header-anchor" href="#二、知识点讲解" aria-label="Permalink to &quot;二、知识点讲解&quot;">​</a></h2><h2 id="_2-1-xml约束文件dtd" tabindex="-1">2.1 xml约束文件dtd <a class="header-anchor" href="#_2-1-xml约束文件dtd" aria-label="Permalink to &quot;2.1 xml约束文件dtd&quot;">​</a></h2><p>为什么要学习dtd约束文件呢? 当你学会dtd约束文件后,你就知道这个标签有那些属性，知道标签及子标签信息。 当有一天你要写开源框架的时候,你也可以来定义你自己的配置文件规则。这部分知识了解就行。不需要死记硬背。 因为记住也基本没啥用,只要做到看到了认识，需要用了知道去哪里抄代码学习就够了。</p><h3 id="_2-1-1-元素-属性-属性值" tabindex="-1">2.1.1 元素 &amp; 属性 &amp; 属性值 <a class="header-anchor" href="#_2-1-1-元素-属性-属性值" aria-label="Permalink to &quot;2.1.1 元素 &amp; 属性 &amp; 属性值&quot;">​</a></h3><p><a href="https://www.w3school.com.cn/dtd/index.asp" target="_blank" rel="noreferrer">dtd文件</a></p><table><thead><tr><th style="text-align:left;">域</th><th style="text-align:left;">示例</th><th style="text-align:left;">语法</th><th style="text-align:left;">例子</th></tr></thead><tbody><tr><td style="text-align:left;">元素</td><td style="text-align:left;">声明根元素标签</td><td style="text-align:left;"><code>&lt;!ELEMENT 元素名称 (元素内容)&gt;</code></td><td style="text-align:left;"><code>&lt;!ELEMENT students(student)&gt;</code>,元素students有一个student</td></tr><tr><td style="text-align:left;">元素</td><td style="text-align:left;">空元素</td><td style="text-align:left;"><code>&lt;!ELEMENT 元素名称 EMPTY&gt;</code></td><td style="text-align:left;"><code>&lt;br /&gt;</code></td></tr><tr><td style="text-align:left;">元素</td><td style="text-align:left;">元素只出现一次</td><td style="text-align:left;"><code>&lt;!ELEMENT 元素名称 (子元素名称)&gt;</code></td><td style="text-align:left;"><code>&lt;!ELEMENT students(student)&gt;</code>,元素students至少有一个student</td></tr><tr><td style="text-align:left;">元素</td><td style="text-align:left;">元素最少出现一次</td><td style="text-align:left;"><code>&lt;!ELEMENT 元素名称 (子元素名称+)&gt;</code></td><td style="text-align:left;"><code>&lt;!ELEMENT students(student+)&gt;</code>,元素students最少有一个student</td></tr><tr><td style="text-align:left;">元素</td><td style="text-align:left;">声明出现零次或多次的元素</td><td style="text-align:left;"><code>&lt;!ELEMENT 元素名称 (子元素名称*)&gt;</code></td><td style="text-align:left;"><code>&lt;!ELEMENT students(student*)&gt;</code>,元素students可以有多个student,也可以一个没有</td></tr><tr><td style="text-align:left;">元素</td><td style="text-align:left;">声明“非.../既...”类型的内容</td><td style="text-align:left;">`&lt;!ELEMENT note (to,from,header,(message</td><td style="text-align:left;">body))&gt;`</td></tr><tr><td style="text-align:left;">元素</td><td style="text-align:left;">声明混合型的内容</td><td style="text-align:left;">`&lt;!ELEMENT note (#PCDATA</td><td style="text-align:left;">to</td></tr><tr><td style="text-align:left;">属性</td><td style="text-align:left;">属性声明</td><td style="text-align:left;"><code>&lt;!ATTLIST 元素名称 属性名称 属性类型 默认值&gt;</code></td><td style="text-align:left;"><code>&lt;!ATTLIST payment type CDATA &quot;check&quot;&gt;</code>,payment有一个属性type,类型为字符类型,默认值check</td></tr></tbody></table><p><code>&lt;!ATTLIST 元素名称 属性名称 属性类型 默认值&gt;</code></p><p><strong>值类型</strong></p><table><thead><tr><th style="text-align:left;">类型</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">CDATA</td><td style="text-align:left;">值为字符数据 (character data)</td></tr><tr><td style="text-align:left;">(en1</td><td style="text-align:left;">en2</td></tr><tr><td style="text-align:left;">ID</td><td style="text-align:left;">值为唯一的 id</td></tr><tr><td style="text-align:left;">IDREF</td><td style="text-align:left;">值为另外一个元素的 id</td></tr><tr><td style="text-align:left;">IDREFS</td><td style="text-align:left;">值为其他 id 的列表</td></tr><tr><td style="text-align:left;">NMTOKEN</td><td style="text-align:left;">值为合法的 XML 名称</td></tr><tr><td style="text-align:left;">NMTOKENS</td><td style="text-align:left;">值是一个实体</td></tr><tr><td style="text-align:left;">ENTITIES</td><td style="text-align:left;">值是一个实体列表</td></tr><tr><td style="text-align:left;">NOTATION</td><td style="text-align:left;">此值是符号的名称</td></tr><tr><td style="text-align:left;">xml:</td><td style="text-align:left;">值是一个预定义的 XML 值</td></tr></tbody></table><p><strong>默认值参数可使用下列值</strong></p><table><thead><tr><th style="text-align:left;">类型</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">值</td><td style="text-align:left;">属性的默认值</td></tr><tr><td style="text-align:left;">#REQUIRED</td><td style="text-align:left;">属性值是必需的</td></tr><tr><td style="text-align:left;">#IMPLIED</td><td style="text-align:left;">属性不是必需的</td></tr><tr><td style="text-align:left;">#FIXED value</td><td style="text-align:left;">属性值是固定的</td></tr></tbody></table><h2 id="_2-2-configuration标签分析" tabindex="-1">2.2 configuration标签分析 <a class="header-anchor" href="#_2-2-configuration标签分析" aria-label="Permalink to &quot;2.2 configuration标签分析&quot;">​</a></h2><p>前面我们知道了dtd约束文件,我们就可以看下,configuration标签一共有那些子标签及属性信息了。</p><p><a href="http://mybatis.org/dtd/mybatis-3-config.dtd" target="_blank" rel="noreferrer">mybatis-3-config.dtd</a></p><p>通过分析dtd文件,我们知道有那些子标签及属性信息。内容比较长。但是不是很重要。这里只要知道就行。</p><p>后面我们看如何使用代码来解析这些标签。</p><p><img src="/blog/img/Mybatis%E9%85%8D%E7%BD%AE%E6%A0%87%E7%AD%BE.svg" alt=""></p><h2 id="_2-3-mybatis配置解析核心逻辑" tabindex="-1">2.3 Mybatis配置解析核心逻辑 <a class="header-anchor" href="#_2-3-mybatis配置解析核心逻辑" aria-label="Permalink to &quot;2.3 Mybatis配置解析核心逻辑&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">思路决定出路</p><ul><li>line(6) <code>sqlSessionFactory.getConfiguration()</code></li></ul><p>由此来看所有的解析都是在SqlSessionFactoryBuilder进行完成的. 具体的解析xml代码我们不研究，这里我们只要搞清楚它的调用关系,及实现的代码在哪里即可。如果这里 看懂，其实都会得到一个结论。就是mybaits的源码是比较简单的,因为他的配置是比较集中的，无论是xml方式或者是注解方式。 最终所有的配置信息都在 <code>Configuration</code> 类中。</p></div><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Test</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 读取配置信息(为什么路径前不用加/,因为是相对路径。maven编译后的资源文件和class文件都是在一个包下,所以不用加/就是当前包目录)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        InputStream mapperInputStream </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Thread.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentThread</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getContextClassLoader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getResourceAsStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mybatisConfig.xml&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 生成SqlSession工厂,SqlSession从名字上看就是,跟数据库交互的会话信息,负责将sql提交到数据库进行执行</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        SqlSessionFactory sqlSessionFactory </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SqlSessionFactoryBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(mapperInputStream, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;development&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 获取Mybatis配置信息,由此来看所有的解析都是在SqlSessionFactoryBuilder进行完成的.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Configuration configuration </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sqlSessionFactory.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_2-3-1-new-sqlsessionfactorybuilder-build" tabindex="-1">2.3.1 new SqlSessionFactoryBuilder().build <a class="header-anchor" href="#_2-3-1-new-sqlsessionfactorybuilder-build" aria-label="Permalink to &quot;2.3.1 new SqlSessionFactoryBuilder().build&quot;">​</a></h3><p>这里可以看到就是核心类就是使用 <code>XMLConfigBuilder</code> 进行解析。下面我们就主要分析 <code>XMLConfigBuilder</code></p><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SqlSessionFactory </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(InputStream inputStream, String environment, Properties properties) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      XMLConfigBuilder parser </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> XMLConfigBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(inputStream, environment, properties);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(parser.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (Exception </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ExceptionFactory.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wrapException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Error building SqlSession.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, e);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ErrorContext.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">instance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        inputStream.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (IOException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // Intentionally ignore. Prefer previous error.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_2-3-2-核心配置类解析-xmlconfigbuilder" tabindex="-1">2.3.2 核心配置类解析(XMLConfigBuilder) <a class="header-anchor" href="#_2-3-2-核心配置类解析-xmlconfigbuilder" aria-label="Permalink to &quot;2.3.2 核心配置类解析(XMLConfigBuilder)&quot;">​</a></h3><p>:::note 重点关注</p><ol><li>line(8), 我们看到核心解析类是 <code>XPathParser parser = new XPathParser()</code></li><li>line(17), 标签的解析都在 <code>parseConfiguration</code></li><li>line(17), 思考下为什么先解析 <code>propertiesElement(root.evalNode(&quot;properties&quot;))</code> :::</li></ol><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> XMLConfigBuilder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BaseBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> parsed;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> final</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> XPathParser parser;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String environment;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> final</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ReflectorFactory localReflectorFactory </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DefaultReflectorFactory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Configuration </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (parsed) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BuilderException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Each XMLConfigBuilder can only be used once.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    parsed </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    parseConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(parser.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">evalNode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/configuration&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> configuration;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> parseConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(XNode </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // issue #117 read properties first</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      propertiesElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(root.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">evalNode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;properties&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      Properties settings </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> settingsAsProperties</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(root.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">evalNode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;settings&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      loadCustomVfs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(settings);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      loadCustomLogImpl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(settings);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      typeAliasesElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(root.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">evalNode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;typeAliases&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      pluginElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(root.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">evalNode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;plugins&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      objectFactoryElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(root.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">evalNode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;objectFactory&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      objectWrapperFactoryElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(root.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">evalNode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;objectWrapperFactory&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      reflectorFactoryElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(root.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">evalNode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;reflectorFactory&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      settingsElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(settings);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // read it after objectFactory and objectWrapperFactory issue #631</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      environmentsElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(root.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">evalNode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;environments&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      databaseIdProviderElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(root.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">evalNode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;databaseIdProvider&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      typeHandlerElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(root.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">evalNode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;typeHandlers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      mapperElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(root.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">evalNode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mappers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (Exception </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BuilderException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Error parsing SQL Mapper Configuration. Cause: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e, e);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><p>看到上面代码是不是就恍然大悟了，原来配置文件的标签都是在这里解析呀。这里的主要思路就是将xml解析成Java对象然后放到 Configuration中。具体任何实现呢? 感兴趣可以自己研究下。</p><h3 id="_2-3-3-configuration属性介绍" tabindex="-1">2.3.3 Configuration属性介绍 <a class="header-anchor" href="#_2-3-3-configuration属性介绍" aria-label="Permalink to &quot;2.3.3 Configuration属性介绍&quot;">​</a></h3><p>那么这些数据最终哪里会使用呢，我们专门留一片文章, 详细分析。这里先看看Configuration内部都有那些关键的配置类把。</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">解释</th></tr></thead><tbody><tr><td style="text-align:left;">TypeAliasRegistry</td><td style="text-align:left;">key是一个别名,value是一个class对象</td></tr><tr><td style="text-align:left;">Properties variables</td><td style="text-align:left;">配置文件中占位符的变量配置</td></tr><tr><td style="text-align:left;">InterceptorChain interceptorChain</td><td style="text-align:left;">拦截链,用于拦截方法,实现插件</td></tr><tr><td style="text-align:left;">ObjectFactory objectFactory</td><td style="text-align:left;">对象实例化统一的工厂方法,我们不用都反射来实例化了</td></tr><tr><td style="text-align:left;">ObjectWrapperFactory objectWrapperFactory</td><td style="text-align:left;">包装对象后为其提供统一的属性操作方法。我们不用通过反射来修改对象属性值了</td></tr><tr><td style="text-align:left;">ReflectorFactory reflectorFactory</td><td style="text-align:left;">反射工厂,用于生成一个反射信息对象,具有缓存的作用</td></tr><tr><td style="text-align:left;">Environment environment</td><td style="text-align:left;">环境信息包含(事务管理器和数据源)</td></tr><tr><td style="text-align:left;">TypeHandlerRegistry typeHandlerRegistry</td><td style="text-align:left;">主要处理jdbc的返回数据，转换成Java对象</td></tr><tr><td style="text-align:left;">MapperRegistry mapperRegistry</td><td style="text-align:left;">Mapper生成的处理类,包含代理的逻辑</td></tr></tbody></table><h3 id="_2-3-4-mapper-xml-解析" tabindex="-1">2.3.4 Mapper.xml 解析 <a class="header-anchor" href="#_2-3-4-mapper-xml-解析" aria-label="Permalink to &quot;2.3.4 Mapper.xml 解析&quot;">​</a></h3><p><strong>XMLMapperBuilder</strong></p><p>解析Mapper对应的xml配置文件,这里面包含了sql的信息。</p><p>mapper的dtd约束文件更多,可以参考: <a href="https://mybatis.org/mybatis-3/zh/sqlmap-xml.html#" target="_blank" rel="noreferrer">https://mybatis.org/mybatis-3/zh/sqlmap-xml.html#</a></p><div class="language-xml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    &lt;!-- 映射文件，mybatis精髓， 后面才会细讲 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mappers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mapper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> resource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mapper/TUserMapper.xml&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mappers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="/blog/img/Mapper.svg" alt=""></p><p>这里就要介绍一个重要的类的，<code>MapperBuilderAssistant</code> Mapper构建辅助工具类。</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">解释</th></tr></thead><tbody><tr><td style="text-align:left;">MapperBuilderAssistant</td><td style="text-align:left;">Mapper构建辅助工具类(缓存配置)</td></tr><tr><td style="text-align:left;">CacheRefResolver</td><td style="text-align:left;">决定如何使用缓存</td></tr><tr><td style="text-align:left;">ParameterMapping</td><td style="text-align:left;">当sql中使用到了#{}占位符时候,负责填充sql参数</td></tr><tr><td style="text-align:left;">ResultMapResolver</td><td style="text-align:left;">返回值映射</td></tr><tr><td style="text-align:left;">Map&lt;String, XNode&gt; sqlFragments</td><td style="text-align:left;">sql片段</td></tr><tr><td style="text-align:left;">MappedStatement</td><td style="text-align:left;">Mapper方法的所有信息(出参，入参，及sql信息等)</td></tr></tbody></table><h2 id="_2-4-mybatis可以借鉴的知识点" tabindex="-1">2.4 Mybatis可以借鉴的知识点 <a class="header-anchor" href="#_2-4-mybatis可以借鉴的知识点" aria-label="Permalink to &quot;2.4 Mybatis可以借鉴的知识点&quot;">​</a></h2><h3 id="_2-4-1-占位符解析逻辑" tabindex="-1">2.4.1 占位符解析逻辑 <a class="header-anchor" href="#_2-4-1-占位符解析逻辑" aria-label="Permalink to &quot;2.4.1 占位符解析逻辑&quot;">​</a></h3><p>在第一篇的时候我们说过，从配置文件解析中我们能学会,如果解析占位符。并将占位符填充真实数据。这里我们就具体说下是如何解析。 还记得前面让思考下为什么先解析 <code>propertiesElement(root.evalNode(&quot;properties&quot;))</code>。</p><p>答案就是为了先读取变量信息，方便后面给依赖的信息，给填充值。</p><p>我们直接说答案: 具体谁来做了这个事情，从职责划分上来看，这个其实还是属于xml文件解析。所以是 <code>XPathParser parser</code> XPathParser中填充上变量信息，这样XPathParser在解析的时候会自动将 <code>${}</code> 填充上真实的数据。</p><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 执行后,会解析properties标签,并且将属性赋值给XPathParser</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    propertiesElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(root.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">evalNode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;properties&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    parser.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setVariables</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(defaults);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    configuration.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setVariables</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(defaults);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // XPathParser 生成节点时候,属性信息会提前处理。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> XNode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(XPathParser xpathParser, Node node, Properties variables) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">       this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.xpathParser </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> xpathParser;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">       this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.node </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> node;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">       this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> node.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getNodeName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">       this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.variables </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> variables;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">       this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.attributes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> parseAttributes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(node);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">       this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.body </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> parseBody</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(node);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     // 发现是占位符，就从变量中读取。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     // ${datasource.driver-class-name} 替换成变量值里面的数据。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">     public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String string, Properties variables) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       VariableTokenHandler handler </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VariableTokenHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(variables);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       GenericTokenParser parser </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GenericTokenParser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;${&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, handler);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">       return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> parser.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(string);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_2-4-2-mybatis-resources-工具" tabindex="-1">2.4.2 Mybatis Resources 工具 <a class="header-anchor" href="#_2-4-2-mybatis-resources-工具" aria-label="Permalink to &quot;2.4.2 Mybatis Resources 工具&quot;">​</a></h3><p>可以从配置文件中或者网络中解析配置，生成 <code>Resources</code> 对象</p><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      String resource </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> context.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getStringAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (resource </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        defaults.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">putAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Resources.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getResourceAsProperties</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(resource));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        defaults.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">putAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Resources.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getUrlAsProperties</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(url));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      parser.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setVariables</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(defaults);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      configuration.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setVariables</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(defaults);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 从资源中获取流</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      InputStream inputStream </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Resources.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getResourceAsStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(resource)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 从url中获取流</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      InputStream inputStream </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Resources.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getUrlAsStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(url)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_2-4-3-mybatis-propertyparser-占位符解析" tabindex="-1">2.4.3 Mybatis PropertyParser 占位符解析 <a class="header-anchor" href="#_2-4-3-mybatis-propertyparser-占位符解析" aria-label="Permalink to &quot;2.4.3 Mybatis PropertyParser 占位符解析&quot;">​</a></h3><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Test</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> propertyParser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Properties variables </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Properties</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        variables.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">put</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;datasource.driver-class-name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 变量中有就从变量中获取 参数信息: com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(PropertyParser.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;参数信息: ${datasource.driver-class-name}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, variables));</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 变量中没有就直接返回key datasource.url</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(PropertyParser.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;datasource.url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, variables));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_2-4-4-反射工厂-reflectorfactory" tabindex="-1">2.4.4 反射工厂 ReflectorFactory <a class="header-anchor" href="#_2-4-4-反射工厂-reflectorfactory" aria-label="Permalink to &quot;2.4.4 反射工厂 ReflectorFactory&quot;">​</a></h3><p>在Mybatis中使用到的反射地方蛮多的，那么都知道反射是相对比较耗时间，那么我们来看Mybatis是如何利用反射工厂来提高反射的性能的?</p><p>缓存，对要使用的Class类，做反射并保存起来, 生成的对象是 <code>Reflector</code>。</p><p><code>ReflectorFactory reflectorFactory = new DefaultReflectorFactory();</code></p><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ReflectorFactory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  boolean</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> isClassCacheEnabled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setClassCacheEnabled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">boolean</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> classCacheEnabled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Reflector </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findForClass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Class&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Reflector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> final</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Class&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; type;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> final</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] readablePropertyNames;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> final</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] writablePropertyNames;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> final</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Map&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Invoker</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; setMethods </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HashMap&lt;&gt;();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> final</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Map&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Invoker</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; getMethods </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HashMap&lt;&gt;();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> final</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Map&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Class&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt; setTypes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HashMap&lt;&gt;();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> final</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Map&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Class&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt; getTypes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HashMap&lt;&gt;();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Constructor&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; defaultConstructor;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Map&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; caseInsensitivePropertyMap </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HashMap&lt;&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><img src="https://img.springlearn.cn/blog/learn_1648446512000.png" alt=""></p><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Test</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> reflector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() throws Exception {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ReflectorFactory reflectorFactory </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DefaultReflectorFactory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Reflector forClass </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> reflectorFactory.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findForClass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(TUser.class);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        TUser user </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (TUser) forClass.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getDefaultConstructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newInstance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        forClass.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSetInvoker</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;uid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">invoke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        forClass.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSetInvoker</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">invoke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;孙悟空&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        forClass.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSetInvoker</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tokenId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">invoke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tokenId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(forClass.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getGetInvoker</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;uid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">invoke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]{}));</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 孙悟空</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(forClass.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getGetInvoker</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">invoke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]{}));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_2-4-5-异常上下文设计-errorcontext" tabindex="-1">2.4.5 异常上下文设计 ErrorContext <a class="header-anchor" href="#_2-4-5-异常上下文设计-errorcontext" aria-label="Permalink to &quot;2.4.5 异常上下文设计 ErrorContext&quot;">​</a></h3><ol><li>在代码执行的过程中,将关键信息通过 <code>ErrorContext.instance().message()</code> 保存进去。利用到了线程隔离的知识。</li><li><code>ErrorContext.instance()</code> 是利用 <code>ThreadLocal</code> 进行线程隔离。</li><li>异常打印后,进行 <code>reset</code> 重置。</li></ol><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String statement, Object parameter) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      dirty </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      MappedStatement ms </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> configuration.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMappedStatement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(statement);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> executor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ms, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wrapCollection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(parameter));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (Exception </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      throw</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> wrapException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Error updating database.  Cause: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e, e);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 完成之后异常上下文进行重置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ErrorContext.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">instance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 将异常上线文中报错的错误都打印出来。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> RuntimeException </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wrapException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String message, Exception e) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PersistenceException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ErrorContext.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">instance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(message).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cause</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), e);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></div></div></main><footer class="VPDocFooter" data-v-706d3dc9 data-v-42f78659><!--[--><!--]--><!----><nav class="prev-next" data-v-42f78659><div class="pager" data-v-42f78659><a class="VPLink link pager-link prev" href="/java/mybatis/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html" data-v-42f78659><!--[--><span class="desc" data-v-42f78659>Previous page</span><span class="title" data-v-42f78659>第01篇:Mybatis学习之环境搭建</span><!--]--></a></div><div class="pager" data-v-42f78659><a class="VPLink link pager-link next" href="/java/mybatis/%E6%A0%B8%E5%BF%83%E7%B1%BB%E4%BB%8B%E7%BB%8D.html" data-v-42f78659><!--[--><span class="desc" data-v-42f78659>Next page</span><span class="title" data-v-42f78659>第03篇:Mybatis核心类详细介绍</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-cc1ba026 data-v-fe812b24><div class="container" data-v-fe812b24><p class="message" data-v-fe812b24>Released under the MIT License.</p><p class="copyright" data-v-fe812b24>Copyright © 2019-present Evan You</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"components_issue.md\":\"DnLvayuM\",\"eslintprettierconfig.md\":\"BqYfSw3o\",\"guide_index.md\":\"DQwMaTzV\",\"guide_eslint-plugin.md\":\"DeJoyAYW\",\"components_home_textcenter.md\":\"CUs6EzkQ\",\"design_领域驱动模型的思考与认知.md\":\"DuQsqlDt\",\"guide_monnrepo_index.md\":\"BVLKM0hX\",\"ai_index.md\":\"Vbq3tMr0\",\"design_六脉神剑.md\":\"Bq4VJ9og\",\"design_勤劳不能致富.md\":\"yj3UoDy-\",\"design_index.md\":\"DW7-iLGn\",\"ai_提示词示例.md\":\"Dlwa17mp\",\"components_model_model.md\":\"DLk4Kb--\",\"components_quickstart.md\":\"Chujxfk6\",\"design_沟通软实力.md\":\"DFYwHcJN\",\"guide_javascript_animejs-demo.md\":\"BltSFIUl\",\"components_index.md\":\"DhNa0biV\",\"design_中文文档写作规范.md\":\"SrNpdqUt\",\"guide_vue_vite打包环境.md\":\"BqOWVvko\",\"guide_ts-config-issue.md\":\"XQo6nGzL\",\"guide_monnrepo_monorepo.md\":\"DJt0zb_Y\",\"guide_web-storm-plugins.md\":\"BoYkxgMh\",\"design_年终总结汇报大纲.md\":\"DCFmPWKN\",\"guide_web-storm.md\":\"Doh9QXnW\",\"ai_基本概念.md\":\"Cua8iWSj\",\"index.md\":\"CRl8plPu\",\"index3.md\":\"B5Mqqbz-\",\"components_animate_animate.md\":\"lTS2J9i2\",\"design_java代码规范全部奉上.md\":\"C-jNlPNl\",\"components_home_aroundbanner.md\":\"C1eRsSp8\",\"java_blockingqueue.md\":\"DY9qwBeO\",\"guide_javascript_esm.md\":\"DlXgcShh\",\"guide_javascript_gsap.md\":\"BfkKcR22\",\"guide_typescript_generics-function.md\":\"BM4OZ2W0\",\"guide_typescript_generics.md\":\"DiNBc27t\",\"guide_typescript_tsconfig.md\":\"CEQ7kdEt\",\"guide_vite-plugin.md\":\"C6gPr51Y\",\"guide_vue_vueuse键盘绑定.md\":\"Clf_wv48\",\"guide_plugin.md\":\"DmxISlid\",\"java_spi.md\":\"CAM8WYPH\",\"java_index.md\":\"B0Oady-4\",\"java_java异常体系.md\":\"CwFRQxk-\",\"java_hooks函数.md\":\"osEOp8Zi\",\"java_countdownlatch.md\":\"NHRQBoAX\",\"java_mybatis_authplugin.md\":\"CmfMvgLs\",\"java_reentrantlock.md\":\"57qc0IKq\",\"java_contended.md\":\"CHlMH9cz\",\"java_hashmap.md\":\"et0lqcrp\",\"java_condition.md\":\"Dor6t3M5\",\"guide_javascript_animejs.md\":\"Tc26CXk-\",\"java_cyclicbarrier.md\":\"VNni34hD\",\"java_semaphore.md\":\"DzqNNZy1\",\"java_readwritelock.md\":\"BEI4TEs8\",\"guide_javascript_package.md\":\"r051qWSC\",\"java_jmx.md\":\"Cj-vwPKe\",\"java_mybatis_mapper代理对象创建.md\":\"5i2HA8MY\",\"java_dubbo_dubbo整合spring的两种实现原理.md\":\"BCTjztvX\",\"java_dubbo_dubbo源码解析之客户端consumer.md\":\"CIvXMoyh\",\"ai_优秀案例.md\":\"BenIu1BA\",\"java_mybatis_metaobject.md\":\"DRfRrESw\",\"java_mybatis_limitplugin.md\":\"r0BHxe-Q\",\"java_dubbo_dubbo源码解析之服务端provider.md\":\"D5e-CoqD\",\"java_mybatis_mybatis一级二级缓存设计.md\":\"e2Cx_OsA\",\"java_mybatis_mybatissql日志打印.md\":\"Cm_6Nv6C\",\"java_mybatis_pageplugin.md\":\"C6owXG5B\",\"java_mybatis_readme.md\":\"IGdVmhGc\",\"java_mybatis_spring事务整合.md\":\"ylO8h9_V\",\"java_mybatis_事务的实现方案.md\":\"DHrLruTv\",\"java_mybatis_mybatis缓存设计.md\":\"BAXc-Fx3\",\"java_mybatis_插件分析.md\":\"BS5bOiNe\",\"java_mybatis_环境搭建.md\":\"BQMGkM5j\",\"java_spring_endpoint监控端点扩展.md\":\"BZ-dEkYn\",\"java_spring_el.md\":\"DJRrXzJ_\",\"java_spring_factorybean接口实例化.md\":\"Be0UlaIg\",\"java_mybatis_mybatis执行流程分析.md\":\"CBU0kgGc\",\"java_spring_aop.md\":\"CM53nmzM\",\"java_mybatis_配置文件解析.md\":\"DFpUihXA\",\"java_mybatis_核心类介绍.md\":\"D5mrZhqm\",\"java_spring_spring动态绑定配置.md\":\"DcUz3SDK\",\"java_spring_web接口资源是如何保存起来的.md\":\"DE6AgzEZ\",\"java_spring_spring循环依赖.md\":\"D-NA-g12\",\"java_spring_spring声明式事务的实现方案.md\":\"C5UQCcOq\",\"java_spring_core04.md\":\"Crwxi3dz\",\"java_spring_core03.md\":\"D0uSW1yJ\",\"java_spring_core02.md\":\"BjDd7mxr\",\"java_spring_core05.md\":\"DJBiLn0P\",\"java_spring_core11.md\":\"DUq87hUu\",\"java_spring_core01.md\":\"DyG-ghIr\",\"java_spring_core10.md\":\"CQ9bBYBg\",\"java_spring_index.md\":\"PzCKM-6R\",\"java_spring_core09.md\":\"C3CXT3mz\",\"java_synchronized.md\":\"8_A4VyWs\",\"java_spring_spring-retry.md\":\"DK44h39m\",\"java_spring_core08.md\":\"BPPVwLjI\",\"java_spring_core07.md\":\"CDvoSDX3\",\"java_spring_core06.md\":\"CK2ejUuO\",\"java_tools_arthas_readme.md\":\"iS6Jcnlc\",\"java_tools_arthas_base-cli.md\":\"CJxCBdj4\",\"java_tools_arthas_learn.md\":\"Cdmt4yRP\",\"java_tools_arthas_watch-cli.md\":\"CTbmdfrV\",\"java_tools_arthas_class-cli.md\":\"Cp_AkzGX\",\"java_tools_arthas_jvm-cli.md\":\"DFsG8Z1o\",\"java_tools_disruptor_index.md\":\"DyhKx7dP\",\"java_tools_guava_readme.md\":\"CX7UQPtZ\",\"java_tools_bytecode_javassist.md\":\"CZ30d_9u\",\"java_tools_guava_guava-cache.md\":\"DZMS8xGD\",\"java_tools_guava_guava-retry.md\":\"HY6QdtbP\",\"java_tools_jol_readme.md\":\"DM5NfGz1\",\"java_tools_guava_guava-map.md\":\"jDw0Tb9k\",\"java_tools_druid_readme.md\":\"B9YCXxhV\",\"java_tools_pool2_字符串常量池.md\":\"C5GAj2vX\",\"java_tools_pool2_readme.md\":\"DBI5l7OO\",\"java_tools_apt_index.md\":\"CO9AO-sF\",\"java_tools_reactor_readme.md\":\"BWHzPiK-\",\"java_tools_jmh_readme.md\":\"7IIAXdER\",\"java_tools_reflections_index.md\":\"Dzr0Worc\",\"java_tools_reactor_webflux.md\":\"ChIxRqBl\",\"java_原子操作.md\":\"CC4aStzg\",\"java_函数式编程.md\":\"feG1hPzx\",\"java_四大引用.md\":\"CSvaVO8M\",\"java_委派双亲之类加载器.md\":\"D41jbVta\",\"java_分布式锁.md\":\"CjwR9bfO\",\"java_tools_reflections_java泛型.md\":\"ooxL9Exr\",\"java_线程安全.md\":\"DDWfgNW5\",\"java_拒绝策略.md\":\"DpbBlmbK\",\"java_线程的工作状态.md\":\"IQG3C4tF\",\"java_线程工厂.md\":\"CYYTnlh1\",\"project_jmvn_introduction.md\":\"CYaq98pa\",\"project_alfred_create-alfred.md\":\"C6eC3B-h\",\"project_jmvn_jmvn-export.md\":\"B_wiTMjN\",\"project_alfred_效率工具必备神器alfred插件开发.md\":\"DeGmarsl\",\"project_index.md\":\"BmZI-0Kd\",\"java_线程组.md\":\"D3nKWMmL\",\"java_线程池.md\":\"PZy7jmau\",\"java_线程隔离.md\":\"MXEjsA7L\",\"project_jmvn_introduction-install.md\":\"CBZ1njI8\",\"project_jmvn_jmvn-install.md\":\"Bxae9r8G\",\"project_jmvn_jmvn-init.md\":\"DIjzpkJr\",\"project_jmvn_jmvn-plugin.md\":\"Ceck6E10\",\"project_alfred_alfred-worflow-js.md\":\"B1JY4Xly\",\"project_jvm_jvm.md\":\"avgL5_SA\",\"project_mojito_index.md\":\"nCqOQOaP\",\"project_jvm_jvm参数配置说明.md\":\"Zrzag46k\",\"project_mojito_第01篇_手写javarpc框架之思路分析.md\":\"CRu5nOtO\",\"project_mojito_rpc协议使用示例.md\":\"BUQVTrWM\",\"project_mojito_协议.md\":\"Bcxg32EY\",\"project_mojito_http协议使用示例.md\":\"dSEbnWj6\",\"project_mojito_第02篇_手写javarpc框架之设计思路.md\":\"vpwcZxT_\",\"project_jvm_jvm调优.md\":\"vCghfqIB\",\"project_jmvn_基于命令行的java脚手架.md\":\"DMcY8gu4\",\"project_mojito_第03篇_手写javarpc框架之搞定序列化.md\":\"DqqY44J-\",\"python_index.md\":\"D86aieoV\",\"project_pangu_index.md\":\"BOCeagdV\",\"project_mojito_第05篇_手写javarpc框架之执行层思路.md\":\"B0R4MWL0\",\"scm_finance_计提帐.md\":\"D864u05_\",\"scm_index.md\":\"UyUs0bdy\",\"test_feignmock.md\":\"Cvcc59U1\",\"test_junit单测类属性注入.md\":\"bo2K3FVy\",\"python_pandas_常用函数.md\":\"fFGZsWn-\",\"test_junitapi.md\":\"mYYx5OhW\",\"scm_stock_stock.md\":\"COxq52YM\",\"scm_introduce_白话翻译.md\":\"C5kJlWM-\",\"test_命名规则.md\":\"BdTskCkl\",\"teacher.md\":\"PHtiVAaE\",\"test_mockitoapi.md\":\"CpFSFLCo\",\"test_单测维护.md\":\"Q_OEkEGW\",\"test_mockdataapi.md\":\"CHczjjLn\",\"scm_introduce_系统介绍.md\":\"BVFqpwlp\",\"test_springboottesting.md\":\"Dpgt_ZTK\",\"test_启动缓慢.md\":\"Ck5q-TQ0\",\"test_极限测试.md\":\"iyvQCdId\",\"test_使用断言.md\":\"Dat_C-CN\",\"test_测试成本.md\":\"Dvbsyo_A\",\"test_index.md\":\"B2kzZkk5\",\"test_数据隔离.md\":\"3BpzmX5o\",\"test_测试范围.md\":\"kl01cT96\",\"test_谁在调用junit.md\":\"pWJNhCIr\",\"test_影响范围.md\":\"CHokbGkg\",\"test_技术选型.md\":\"WQWvlMhz\",\"test_如何知道是否依赖spring容器.md\":\"GWI3cqip\",\"test_案例分享.md\":\"3y5gk0f7\",\"test_事务回滚原理.md\":\"296oH1iA\",\"test_消息验证.md\":\"B5uwTN9g\",\"python_pandas_pandas实战手册.md\":\"DCWq4mXx\",\"test_异步验证.md\":\"C8Ey0tDI\",\"project_mojito_第04篇_手写javarpc框架之搞定网络通信.md\":\"BN1Dbc7v\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"编程牛马\",\"description\":\"From Arco\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"lightModeSwitchTitle\":\"太阳\",\"search\":{\"provider\":\"local\",\"options\":{\"locales\":{\"root\":{\"translations\":{\"button\":{\"buttonText\":\"搜索\",\"buttonAriaLabel\":\"搜索\"},\"modal\":{\"displayDetails\":\"显示详细列表\",\"resetButtonTitle\":\"重置搜索\",\"backButtonTitle\":\"关闭搜索\",\"noResultsText\":\"没有结果\",\"footer\":{\"selectText\":\"选择\",\"selectKeyAriaLabel\":\"输入\",\"navigateText\":\"导航\",\"navigateUpKeyAriaLabel\":\"上箭头\",\"navigateDownKeyAriaLabel\":\"下箭头\",\"closeText\":\"关闭\",\"closeKeyAriaLabel\":\"esc\"}}}}}}},\"outline\":{\"level\":[2,3,4]},\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2019-present Evan You\"},\"siteTitle\":\"西魏陶渊明\",\"logo\":\"https://img.springlearn.cn/learn_d98f09cdad8fa38168ec59c15a508490.ico\",\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"技术\",\"items\":[{\"text\":\"前端\",\"items\":[{\"text\":\"JavaScript\",\"link\":\"/guide/\"},{\"text\":\"VUI\",\"link\":\"/components/\"}]},{\"text\":\"后端\",\"items\":[{\"text\":\"Java\",\"link\":\"/java/\"},{\"text\":\"Python\",\"link\":\"/python/\"},{\"text\":\"Testing\",\"link\":\"/test/\"}]},{\"text\":\"项目\",\"link\":\"/project/\"},{\"text\":\"AI\",\"link\":\"/ai/\"}]},{\"text\":\"生活\",\"link\":\"/design/\"},{\"text\":\"供应链\",\"link\":\"/scm/\"},{\"text\":\"志同道合\",\"items\":[{\"text\":\"陈随易\",\"link\":\"https://me.yicode.tech/\"},{\"text\":\"Vue3\",\"link\":\"https://vue-compiler.iamouyang.cn/\"}]},{\"text\":\"知识库\",\"items\":[{\"text\":\"前端知识库\",\"items\":[{\"text\":\"prettier\",\"link\":\"https://www.prettier.cn/\"},{\"text\":\"prettier online\",\"link\":\"https://www.prettier.cn/playground/\"},{\"text\":\"eslint\",\"link\":\"https://eslint.org/docs/latest/use/getting-started\"},{\"text\":\"eslint online\",\"link\":\"https://eslint.org/play/\"},{\"text\":\"eslint vue\",\"link\":\"https://eslint.vuejs.org/user-guide/\"},{\"text\":\"eslint vue demo online\",\"link\":\"https://ota-meshi.github.io/eslint-plugin-vue-demo/\"},{\"text\":\"eslint-plugin-prettier\",\"link\":\"https://github.com/prettier/eslint-plugin-prettier\"},{\"text\":\"eslint-config-prettier\",\"link\":\"https://github.com/prettier/eslint-config-prettier\"},{\"text\":\"VitePress\",\"link\":\"https://vitepress.dev/zh/reference/frontmatter-config\"}]},{\"text\":\"Library\",\"items\":[{\"text\":\"animate\",\"link\":\"https://animate.style/\"},{\"text\":\"leader-line\",\"link\":\"https://anseki.github.io/leader-line/\"},{\"text\":\"canvas-confetti\",\"link\":\"https://github.com/catdad/canvas-confetti\"},{\"text\":\"relation-graph\",\"link\":\"https://www.relation-graph.com/\"},{\"text\":\"rough-notation\",\"link\":\"https://github.com/rough-stuff/rough-notation\"},{\"text\":\"swapy\",\"link\":\"https://github.com/TahaSh/swapy\"},{\"text\":\"loading.io\",\"link\":\"https://loading.io/\"}]}]}],\"sidebar\":{\"/java/\":[{\"text\":\"Java进阶\",\"collapsed\":false,\"link\":\"/java/index\",\"items\":[{\"text\":\"Java并发包队列之BlockingQueue\",\"link\":\"/java/BlockingQueue\"},{\"text\":\"没有条件创造条件Condition\",\"link\":\"/java/Condition\"},{\"text\":\"性能优化之@Contended减少伪共享\",\"link\":\"/java/Contended\"},{\"text\":\"倒计锁 CountDownLatch\",\"link\":\"/java/CountDownLatch\"},{\"text\":\"循环锁屏障 CyclicBarrier\",\"link\":\"/java/CyclicBarrier\"},{\"text\":\"面试再也不怕被HashMap欺负了\",\"link\":\"/java/HashMap\"},{\"text\":\"Java管理扩展\",\"link\":\"/java/JMX\"},{\"text\":\"Java异常体系\",\"link\":\"/java/Java异常体系\"},{\"text\":\"读写锁 ReadWriteLock\",\"link\":\"/java/ReadWriteLock\"},{\"text\":\"重入锁 ReentrantLock\",\"link\":\"/java/ReentrantLock\"},{\"text\":\"SPI服务发现机制\",\"link\":\"/java/SPI\"},{\"text\":\"信号量 Semaphore\",\"link\":\"/java/Semaphore\"},{\"text\":\"JVM钩子hooks函数\",\"link\":\"/java/hooks函数\"},{\"text\":\"synchronized锁升级\",\"link\":\"/java/synchronized\"},{\"text\":\"Lambda函数式编程\",\"link\":\"/java/函数式编程\"},{\"text\":\"分布式锁\",\"link\":\"/java/分布式锁\"},{\"text\":\"线程安全之原子操作\",\"link\":\"/java/原子操作\"},{\"text\":\"Java四大引用\",\"link\":\"/java/四大引用\"},{\"text\":\"委派双亲之类加载器\",\"link\":\"/java/委派双亲之类加载器\"},{\"text\":\"成熟的线程要懂得拒绝\",\"link\":\"/java/拒绝策略\"},{\"text\":\"线程安全感\",\"link\":\"/java/线程安全\"},{\"text\":\"开个工厂造线程\",\"link\":\"/java/线程工厂\"},{\"text\":\"线程池扫盲\",\"link\":\"/java/线程池\"},{\"text\":\"线程状态\",\"link\":\"/java/线程的工作状态\"},{\"text\":\"给线程归归类\",\"link\":\"/java/线程组\"},{\"text\":\"多线程之线程隔离\",\"link\":\"/java/线程隔离\"}]},{\"text\":\"Dubbo\",\"collapsed\":false,\"items\":[{\"text\":\"dubbo 客户端调用流程\",\"link\":\"/java/dubbo/Dubbo源码解析之客户端Consumer\"},{\"text\":\"dubbo 服务端注册流程\",\"link\":\"/java/dubbo/Dubbo源码解析之服务端Provider\"},{\"text\":\"dubbo适配Spring原理\",\"link\":\"/java/dubbo/dubbo整合spring的两种实现原理\"}]},{\"text\":\"Mybatis\",\"collapsed\":false,\"link\":\"/java/mybatis/README\",\"items\":[{\"text\":\"第01篇:Mybatis学习之环境搭建\",\"link\":\"/java/mybatis/环境搭建\"},{\"text\":\"第02篇:Mybatis配置文件解析\",\"link\":\"/java/mybatis/配置文件解析\"},{\"text\":\"第03篇:Mybatis核心类详细介绍\",\"link\":\"/java/mybatis/核心类介绍\"},{\"text\":\"第04篇:Mybatis代理对象生成\",\"link\":\"/java/mybatis/Mapper代理对象创建\"},{\"text\":\"第05篇:Mybatis的SQL执行流程分析\",\"link\":\"/java/mybatis/Mybatis执行流程分析\"},{\"text\":\"第06篇:Mybatis缓存设计\",\"link\":\"/java/mybatis/Mybatis一级二级缓存设计\"},{\"text\":\"第07篇:Mybatis缓存装饰器\",\"link\":\"/java/mybatis/Mybatis缓存设计\"},{\"text\":\"第08篇:Mybatis事务处理\",\"link\":\"/java/mybatis/事务的实现方案\"},{\"text\":\"第09篇:Spring处理Mybatis事务\",\"link\":\"/java/mybatis/Spring事务整合\"},{\"text\":\"第10篇:Mybatis的插件设计分析\",\"link\":\"/java/mybatis/插件分析\"},{\"text\":\"第11篇:Mybatis查询限制插件设计\",\"link\":\"/java/mybatis/LimitPlugin\"},{\"text\":\"第12篇:Mybatis分页插件设计\",\"link\":\"/java/mybatis/PagePlugin\"},{\"text\":\"第13篇:Mybatis权限插件设计\",\"link\":\"/java/mybatis/AuthPlugin\"},{\"text\":\"第14篇:Mybatis中反射工具\",\"link\":\"/java/mybatis/MetaObject\"},{\"text\":\"第15篇:Mybatis中打印Sql信息\",\"link\":\"/java/mybatis/Mybatissql日志打印\"}]},{\"text\":\"Spring Framework\",\"collapsed\":false,\"link\":\"/java/spring/index\",\"items\":[{\"text\":\"第01篇:搞定Spring容器管理\",\"link\":\"/java/spring/core01\"},{\"text\":\"第02篇:解耦就用Event\",\"link\":\"/java/spring/core02\"},{\"text\":\"第03篇:Validation参数校验\",\"link\":\"/java/spring/core03\"},{\"text\":\"第04篇:Resources资源文件\",\"link\":\"/java/spring/core04\"},{\"text\":\"第05篇:SpEL强大的表达式语言\",\"link\":\"/java/spring/core05\"},{\"text\":\"第06篇:AOP面向切面编程\",\"link\":\"/java/spring/core06\"},{\"text\":\"第07篇:Converter SPI类型转换\",\"link\":\"/java/spring/core07\"},{\"text\":\"第08篇:Data Binding类型绑定\",\"link\":\"/java/spring/core08\"},{\"text\":\"第09篇:MessageSource国际化\",\"link\":\"/java/spring/core09\"},{\"text\":\"第09篇:Formatter 格式转换\",\"link\":\"/java/spring/core11\"},{\"text\":\"第10篇:Spring Webflux\",\"link\":\"/java/spring/core10\"},{\"text\":\"AOP 使用指南\",\"link\":\"/java/spring/AOP\"},{\"text\":\"Spring EL表达式使用指南\",\"link\":\"/java/spring/EL\"}]},{\"text\":\"SpringBoot\",\"collapsed\":false,\"link\":\"/java/spring/index\",\"items\":[{\"text\":\"Spring Boot Endpoint监控端点扩展\",\"link\":\"/java/spring/Endpoint监控端点扩展\"},{\"text\":\"Spring声明式事务的实现方案?\",\"link\":\"/java/spring/Spring声明式事务的实现方案\"},{\"text\":\"Web接口资源是如何保存起来的?\",\"link\":\"/java/spring/Web接口资源是如何保存起来的\"}]},{\"text\":\"Spring\",\"collapsed\":false,\"link\":\"/java/spring/index\",\"items\":[{\"text\":\"FactoryBean接口实例化\",\"link\":\"/java/spring/FactoryBean接口实例化\"},{\"text\":\"动态绑定配置\",\"link\":\"/java/spring/Spring动态绑定配置\"},{\"text\":\"Spring循环依赖\",\"link\":\"/java/spring/Spring循环依赖\"},{\"text\":\"Spring-retry重试组件\",\"link\":\"/java/spring/spring-retry\"}]},{\"text\":\"Arthas\",\"collapsed\":false,\"link\":\"/java/tools/arthas/README\",\"items\":[{\"text\":\"基础命令\",\"link\":\"/java/tools/arthas/base-cli\"},{\"text\":\"class/classloader相关\",\"link\":\"/java/tools/arthas/class-cli\"},{\"text\":\"JVM相关命令\",\"link\":\"/java/tools/arthas/jvm-cli\"},{\"text\":\"基础教程\",\"link\":\"/java/tools/arthas/learn\"},{\"text\":\"monitor/watch/trace相关\",\"link\":\"/java/tools/arthas/watch-cli\"}]},{\"text\":\"字节码增强\",\"collapsed\":false,\"items\":[{\"text\":\"Javassist\",\"link\":\"/java/tools/bytecode/Javassist\"}]},{\"text\":\"Guava\",\"collapsed\":false,\"link\":\"/java/tools/guava/README\",\"items\":[{\"text\":\"Guava-cache\",\"link\":\"/java/tools/guava/guava-cache\"},{\"text\":\"Guava-Map\",\"link\":\"/java/tools/guava/guava-map\"},{\"text\":\"Guava-retry重试组件\",\"link\":\"/java/tools/guava/guava-retry\"}]},{\"text\":\"字符串常量池\",\"collapsed\":false,\"link\":\"/java/tools/pool2/README\",\"items\":[{\"text\":\"字符串常量池\",\"link\":\"/java/tools/pool2/字符串常量池\"}]},{\"text\":\"反应式编程\",\"collapsed\":false,\"link\":\"/java/tools/reactor/README\",\"items\":[{\"text\":\"Reactive 反应式编程\",\"link\":\"/java/tools/reactor/webflux\"}]},{\"text\":\"Reflections\",\"collapsed\":false,\"link\":\"/java/tools/reflections/index\",\"items\":[{\"text\":\"Java泛型体系知识学习\",\"link\":\"/java/tools/reflections/Java泛型\"}]}],\"/guide/\":[{\"text\":\"Plugins\",\"collapsed\":false,\"link\":\"/guide/index\",\"items\":[{\"text\":\"Eslint和 Prettier使用\",\"link\":\"/guide/eslint-plugin\"},{\"text\":\"Vite 插件\",\"link\":\"/guide/vite-plugin\"}]},{\"text\":\"JavaScript\",\"collapsed\":false,\"items\":[{\"text\":\"CommonJs和ECMAScript\",\"link\":\"/guide/javascript/ESM\"},{\"text\":\"CommonJs和ECMAScript\",\"link\":\"/guide/javascript/animejs-demo\"},{\"text\":\"animejs\",\"link\":\"/guide/javascript/animejs\"},{\"text\":\"gsap\",\"link\":\"/guide/javascript/gsap\"},{\"text\":\"package.json\",\"link\":\"/guide/javascript/package\"}]},{\"text\":\"Monorepo\",\"collapsed\":false,\"link\":\"/guide/monnrepo/index\",\"items\":[{\"text\":\"what monorepo?\",\"link\":\"/guide/monnrepo/monorepo\"}]},{\"text\":\"Guide\",\"collapsed\":false,\"link\":\"/guide/index\",\"items\":[{\"text\":\"Vite 从零搭建项目\",\"link\":\"/guide/plugin\"},{\"text\":\"typescript配置说明\",\"link\":\"/guide/ts-config-issue\"}]},{\"text\":\"TypeScript\",\"collapsed\":false,\"items\":[{\"text\":\"泛型函数\",\"link\":\"/guide/typescript/generics-function\"},{\"text\":\"泛型用法\",\"link\":\"/guide/typescript/generics\"},{\"text\":\"tsconfig.json\",\"link\":\"/guide/typescript/tsconfig\"}]},{\"text\":\"Vue\",\"collapsed\":false,\"items\":[{\"text\":\"VueUse键盘绑定\",\"link\":\"/guide/vue/VueUse键盘绑定\"},{\"text\":\"vite打包环境\",\"link\":\"/guide/vue/vite打包环境\"}]},{\"text\":\"Code Editor\",\"collapsed\":false,\"link\":\"/guide/index\",\"items\":[{\"text\":\"WebStorm Plugins\",\"link\":\"/guide/web-storm-plugins\"},{\"text\":\"web-types\",\"link\":\"/guide/web-storm\"}]}],\"/design/\":[{\"text\":\"Design\",\"collapsed\":false,\"link\":\"/design/index\",\"items\":[{\"text\":\"Java代码规范全部奉上\",\"link\":\"/design/Java代码规范全部奉上\"},{\"text\":\"中文文档写作规范\",\"link\":\"/design/中文文档写作规范\"},{\"text\":\"年终总结汇报大纲\",\"link\":\"/design/年终总结汇报大纲\"},{\"text\":\"领域驱动模型的思考与认知\",\"link\":\"/design/领域驱动模型的思考与认知\"}]},{\"text\":\"设计&规范\",\"collapsed\":false,\"link\":\"/design/index\",\"items\":[{\"text\":\"六大原则 & 23种设计模式\",\"link\":\"/design/六脉神剑\"}]},{\"text\":\"牛马人生\",\"collapsed\":false,\"link\":\"/design/index\",\"items\":[{\"text\":\"勤劳致富\",\"link\":\"/design/勤劳不能致富\"},{\"text\":\"软实力之沟通篇\",\"link\":\"/design/沟通软实力\"}]}],\"/test/\":[{\"text\":\"技术框架\",\"collapsed\":false,\"link\":\"/test/index\",\"items\":[{\"text\":\"Feign Mock注意事项\",\"link\":\"/test/FeignMock\"},{\"text\":\"JUnit API\",\"link\":\"/test/JUnitAPI\"},{\"text\":\"MockData API\",\"link\":\"/test/MockDataAPI\"},{\"text\":\"Mockito API\",\"link\":\"/test/MockitoAPI\"},{\"text\":\"SpringBoot Testing\",\"link\":\"/test/SpringBootTesting\"},{\"text\":\"技术选型\",\"link\":\"/test/技术选型\"}]},{\"text\":\"源码分析\",\"collapsed\":false,\"link\":\"/test/index\",\"items\":[{\"text\":\"JUnit单测类属性注入\",\"link\":\"/test/JUnit单测类属性注入\"},{\"text\":\"事务回滚原理\",\"link\":\"/test/事务回滚原理\"},{\"text\":\"②如何知道是否依赖Spring容器\",\"link\":\"/test/如何知道是否依赖Spring容器\"},{\"text\":\"①谁在调用JUnit\",\"link\":\"/test/谁在调用JUnit\"}]},{\"text\":\"单测规范\",\"collapsed\":false,\"link\":\"/test/index\",\"items\":[{\"text\":\"使用断言\",\"link\":\"/test/使用断言\"},{\"text\":\"单测维护\",\"link\":\"/test/单测维护\"},{\"text\":\"命名规则\",\"link\":\"/test/命名规则\"},{\"text\":\"影响范围\",\"link\":\"/test/影响范围\"},{\"text\":\"极限测试\",\"link\":\"/test/极限测试\"},{\"text\":\"测试范围\",\"link\":\"/test/测试范围\"}]},{\"text\":\"场景分析\",\"collapsed\":false,\"link\":\"/test/index\",\"items\":[{\"text\":\"启动缓慢\",\"link\":\"/test/启动缓慢\"},{\"text\":\"异步验证\",\"link\":\"/test/异步验证\"},{\"text\":\"数据隔离\",\"link\":\"/test/数据隔离\"},{\"text\":\"测试成本\",\"link\":\"/test/测试成本\"},{\"text\":\"消息验证\",\"link\":\"/test/消息验证\"}]},{\"text\":\"案例分享\",\"collapsed\":false,\"link\":\"/test/index\",\"items\":[{\"text\":\"案例分享\",\"link\":\"/test/案例分享\"}]}],\"/components/\":[{\"text\":\"动画\",\"collapsed\":false,\"items\":[{\"text\":\"v-animate\",\"link\":\"/components/animate/animate\"}]},{\"text\":\"首页模板\",\"collapsed\":false,\"items\":[{\"text\":\"图片介绍\",\"link\":\"/components/home/AroundBanner\"},{\"text\":\"文本介绍\",\"link\":\"/components/home/TextCenter\"}]},{\"text\":\"开发指南\",\"collapsed\":false,\"link\":\"/components/index\",\"items\":[{\"text\":\"常见问题\",\"link\":\"/components/issue\"},{\"text\":\"快速开始\",\"link\":\"/components/quickstart\"}]},{\"text\":\"弹窗\",\"collapsed\":false,\"items\":[{\"text\":\"弹窗\",\"link\":\"/components/model/model\"}]}],\"/scm/\":[{\"text\":\"会计小TIP\",\"collapsed\":false,\"items\":[{\"text\":\"计提帐\",\"link\":\"/scm/finance/计提帐\"}]},{\"text\":\"介绍\",\"collapsed\":false,\"items\":[{\"text\":\"白话供应链\",\"link\":\"/scm/introduce/白话翻译\"},{\"text\":\"系统介绍\",\"link\":\"/scm/introduce/系统介绍\"}]},{\"text\":\"存货核算\",\"collapsed\":false,\"items\":[{\"text\":\"存货核算\",\"link\":\"/scm/stock/stock\"}]}],\"/project/\":[{\"text\":\"Alfred Plugin\",\"collapsed\":false,\"items\":[{\"text\":\"Alfred-workflow-js\",\"link\":\"/project/alfred/alfred-worflow-js\"},{\"text\":\"Alfred添加工作流\",\"link\":\"/project/alfred/create-alfred\"},{\"text\":\"Mac 效率工具必备神器Alfred插件开发\",\"link\":\"/project/alfred/效率工具必备神器Alfred插件开发\"}]},{\"text\":\"JMVN\",\"collapsed\":false,\"items\":[{\"text\":\"快速安装\",\"link\":\"/project/jmvn/introduction-install\"},{\"text\":\"工具介绍\",\"link\":\"/project/jmvn/introduction\"},{\"text\":\"数据模型导出\",\"link\":\"/project/jmvn/jmvn-export\"},{\"text\":\"创建项目\",\"link\":\"/project/jmvn/jmvn-init\"},{\"text\":\"数据模型安装\",\"link\":\"/project/jmvn/jmvn-install\"},{\"text\":\"插件开发\",\"link\":\"/project/jmvn/jmvn-plugin\"},{\"text\":\"基于命令行的Java脚手架\",\"link\":\"/project/jmvn/基于命令行的Java脚手架\"}]},{\"text\":\"JVM\",\"collapsed\":false,\"items\":[{\"text\":\"JVM内存模型\",\"link\":\"/project/jvm/JVM\"},{\"text\":\"JVM参数配置说明\",\"link\":\"/project/jvm/JVM参数配置说明\"},{\"text\":\"JVM调优\",\"link\":\"/project/jvm/JVM调优\"}]},{\"text\":\"Mojito\",\"collapsed\":false,\"link\":\"/project/mojito/index\",\"items\":[{\"text\":\"第01篇:手写JavaRPC框架之思路分析\",\"link\":\"/project/mojito/第01篇:手写JavaRPC框架之思路分析\"},{\"text\":\"第02篇:手写JavaRPC框架之设计思路\",\"link\":\"/project/mojito/第02篇:手写JavaRPC框架之设计思路\"},{\"text\":\"第03篇:手写JavaRPC框架之搞定序列化\",\"link\":\"/project/mojito/第03篇:手写JavaRPC框架之搞定序列化\"},{\"text\":\"第04篇:手写JavaRPC框架之搞定网络通信\",\"link\":\"/project/mojito/第04篇:手写JavaRPC框架之搞定网络通信\"},{\"text\":\"第05篇:手写JavaRPC框架之执行层思路\",\"link\":\"/project/mojito/第05篇:手写JavaRPC框架之执行层思路\"},{\"text\":\"HTTP协议使用示例\",\"link\":\"/project/mojito/HTTP协议使用示例\"},{\"text\":\"RPC协议使用示例\",\"link\":\"/project/mojito/RPC协议使用示例\"},{\"text\":\"Protocol协议篇设计思路\",\"link\":\"/project/mojito/协议\"}]}],\"/ai/\":[{\"text\":\"优秀案例\",\"collapsed\":false,\"link\":\"/ai/index\",\"items\":[{\"text\":\"提示词案例\",\"link\":\"/ai/优秀案例\"}]},{\"text\":\"提示工程简介\",\"collapsed\":false,\"link\":\"/ai/index\",\"items\":[{\"text\":\"提示词的重要\",\"link\":\"/ai/基本概念\"},{\"text\":\"提示词示例\",\"link\":\"/ai/提示词示例\"}]}],\"/python/\":[{\"text\":\"Pandas\",\"collapsed\":false,\"items\":[{\"text\":\"数据分析与清洗\",\"link\":\"/python/pandas/Pandas实战手册\"},{\"text\":\"常用函数\",\"link\":\"/python/pandas/常用函数\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/vuejs/vitepress\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>