import{t as W,i as F}from"./theme.DkDQ-Bc8.js";import{d as G,E as U,M as w,a0 as q,k as f,ag as V,v as A,x as H,l as X,X as Z,a1 as J,aq as Q,p as ee,R as te}from"./framework.B8fosacB.js";const ne=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function se(e){function o(t){return(...a)=>{if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[t].apply(e.value,a)}}function s(){const t=Object.create(null);return ne.forEach(a=>{t[a]=o(a)}),t}return s()}function ie(e,o,s){A([s,e,o],([t,a,l],D,z)=>{let c=null;if(t&&a&&l){const{offsetWidth:C,offsetHeight:x}=t,I=l===!0?{}:l,{throttle:O=100,onResize:m}=I;let d=!1;const p=()=>{a.resize(),m?.()},P=O?W(p,O):p;c=new ResizeObserver(()=>{!d&&(d=!0,t.offsetWidth===C&&t.offsetHeight===x)||P()}),c.observe(t)}z(()=>{c&&(c.disconnect(),c=null)})})}const oe={autoresize:[Boolean,Object]},ae=/^on[^a-z]/,S=e=>ae.test(e);function le(e){const o={};for(const s in e)S(s)||(o[s]=e[s]);return o}function L(e,o){const s=Q(e)?ee(e):e;return s&&typeof s=="object"&&"value"in s?s.value||o:s||o}const ce="ecLoadingOptions";function re(e,o,s){const t=w(ce,{}),a=f(()=>({...L(t,{}),...s?.value}));H(()=>{const l=e.value;l&&(o.value?l.showLoading(a.value):l.hideLoading())})}const ue={loading:Boolean,loadingOptions:Object};let v=null;const $="x-vue-echarts";function fe(){if(v!=null)return v;if(typeof HTMLElement>"u"||typeof customElements>"u")return v=!1;try{new Function("tag","class EChartsElement extends HTMLElement{__dispose=null;disconnectedCallback(){this.__dispose&&(this.__dispose(),this.__dispose=null)}}customElements.get(tag)==null&&customElements.define(tag,EChartsElement);")($)}catch{return v=!1}return v=!0}document.head.appendChild(document.createElement("style")).textContent=`x-vue-echarts{display:block;width:100%;height:100%;min-width:0}
`;const de=fe(),pe="ecTheme",he="ecInitOptions",ge="ecUpdateOptions",y=/(^&?~?!?)native:/;var me=G({name:"echarts",props:{option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean,...oe,...ue},emits:{},inheritAttrs:!1,setup(e,{attrs:o}){const s=U(),t=U(),a=U(),l=w(pe,null),D=w(he,null),z=w(ge,null),{autoresize:c,manualUpdate:C,loading:x,loadingOptions:I}=q(e),O=f(()=>a.value||e.option||null),m=f(()=>e.theme||L(l,{})),d=f(()=>e.initOptions||L(D,{})),p=f(()=>e.updateOptions||L(z,{})),P=f(()=>le(o)),R={},E=V().proxy.$listeners,_={};E?Object.keys(E).forEach(i=>{y.test(i)?R[i.replace(y,"$1")]=E[i]:_[i]=E[i]}):Object.keys(o).filter(i=>S(i)).forEach(i=>{let n=i.charAt(2).toLowerCase()+i.slice(3);if(n.indexOf("native:")===0){const h=`on${n.charAt(7).toUpperCase()}${n.slice(8)}`;R[h]=o[i];return}n.substring(n.length-4)==="Once"&&(n=`~${n.substring(0,n.length-4)}`),_[n]=o[i]});function b(i){if(!s.value)return;const n=t.value=F(s.value,m.value,d.value);e.group&&(n.group=e.group),Object.keys(_).forEach(g=>{let r=_[g];if(!r)return;let u=g.toLowerCase();u.charAt(0)==="~"&&(u=u.substring(1),r.__once__=!0);let M=n;if(u.indexOf("zr:")===0&&(M=n.getZr(),u=u.substring(3)),r.__once__){delete r.__once__;const B=r;r=(...Y)=>{B(...Y),M.off(u,r)}}M.on(u,r)});function h(){n&&!n.isDisposed()&&n.resize()}function N(){const g=i||O.value;g&&n.setOption(g,p.value)}c.value?te(()=>{h(),N()}):N()}function K(i,n){e.manualUpdate&&(a.value=i),t.value?t.value.setOption(i,n||{}):b(i)}function j(){t.value&&(t.value.dispose(),t.value=void 0)}let T=null;A(C,i=>{typeof T=="function"&&(T(),T=null),i||(T=A(()=>e.option,(n,h)=>{n&&(t.value?t.value.setOption(n,{notMerge:n!==h,...p.value}):b())},{deep:!0}))},{immediate:!0}),A([m,d],()=>{j(),b()},{deep:!0}),H(()=>{e.group&&t.value&&(t.value.group=e.group)});const k=se(t);return re(t,x,I),ie(t,c,s),X(()=>{b()}),Z(()=>{de&&s.value?s.value.__dispose=j:j()}),{chart:t,root:s,setOption:K,nonEventAttrs:P,nativeListeners:R,...k}},render(){const e={...this.nonEventAttrs,...this.nativeListeners};return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",J($,e)}});export{he as INIT_OPTIONS_KEY,ce as LOADING_OPTIONS_KEY,pe as THEME_KEY,ge as UPDATE_OPTIONS_KEY,me as default};
