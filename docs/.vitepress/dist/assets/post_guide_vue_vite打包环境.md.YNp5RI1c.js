import{_ as e,o as s,c as a,a4 as t}from"./chunks/framework.B8fosacB.js";const c=JSON.parse('{"title":"vite打包环境","description":"","frontmatter":{"title":"vite打包环境","editLink":true,"navbar":true},"headers":[],"relativePath":"post/guide/vue/vite打包环境.md","filePath":"post/guide/vue/vite打包环境.md","lastUpdated":1726844571000}'),n={name:"post/guide/vue/vite打包环境.md"};function l(p,i,r,o,h,d){return s(),a("div",{"data-pagefind-body":!0},i[0]||(i[0]=[t(`<p><a href="https://img-home.csdnimg.cn/images/20230724024159.png?origin_url=https%3A%2F%2Fcn.vitejs.dev%2Fguide%2Fenv-and-mode&amp;pos_id=img-m60lgc0u-1711331335275" target="_blank" rel="noreferrer">vite打包环境变量配置</a></p><h2 id="环境变量" tabindex="-1">环境变量 <a class="header-anchor" href="#环境变量" aria-label="Permalink to &quot;环境变量&quot;">​</a></h2><p>Vite 在一个特殊的 import.meta.env 对象上暴露环境变量。这里有一些在所有情况下都可以使用的内建变量：</p><ul><li><p>import.meta.env.MODE: {string} 应用运行的模式。</p></li><li><p>import.meta.env.BASE_URL: {string} 部署应用时的基本 URL。他由base 配置项决定。</p></li><li><p>import.meta.env.PROD: {boolean} 应用是否运行在生产环境（使用 NODE_ENV=&#39;production&#39; 运行开发服务器或构建应用时使用 NODE_ENV=&#39;production&#39; ）。</p></li><li><p>import.meta.env.DEV: {boolean} 应用是否运行在开发环境 (永远与 import.meta.env.PROD相反)。</p></li><li><p>import.meta.env.SSR: {boolean} 应用是否运行在 server 上。</p></li></ul><h2 id="env-文件" tabindex="-1">.env 文件 <a class="header-anchor" href="#env-文件" aria-label="Permalink to &quot;.env 文件&quot;">​</a></h2><blockquote><p>环境加载优先级 份用于指定模式的文件（例如 .env.production）会比通用形式的优先级更高（例如 .env）。 另外，Vite 执行时已经存在的环境变量有最高的优先级，不会被 .env 类文件覆盖。例如当运行 VITE_SOME_KEY=123 vite build 的时候。 .env 类文件会在 Vite 启动一开始时被加载，而改动会在重启服务器后生效。</p></blockquote><p>Vite 使用 dotenv 从你的 环境目录 中的下列文件加载额外的环境变量：</p><ul><li>.env # 所有情况下都会加载</li><li>.env.local # 所有情况下都会加载，但会被 git 忽略</li><li>.env.[mode] # 只在指定模式下加载</li><li>.env.[mode].local # 只在指定模式下加载，但会被 git 忽略</li></ul><h2 id="注意" tabindex="-1">注意 <a class="header-anchor" href="#注意" aria-label="Permalink to &quot;注意&quot;">​</a></h2><p>为了防止意外地将一些环境变量泄漏到客户端，只有以 <code>VITE_</code> 为前缀的变量才会暴露给经过 vite 处理的代码。例如下面这些环境变量：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>VITE_SOME_KEY=123</span></span>
<span class="line"><span>DB_PASSWORD=foobar</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>只有 <code>VITE_</code>SOME_KEY 会被暴露为 <code>import.meta.env.VITE_SOME_KEY</code> 提供给客户端源码，而 DB_PASSWORD 则不会。</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">meta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">VITE_SOME_KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;123&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">meta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DB_PASSWORD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// undefined</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>`,13)]))}const E=e(n,[["render",l]]);export{c as __pageData,E as default};
