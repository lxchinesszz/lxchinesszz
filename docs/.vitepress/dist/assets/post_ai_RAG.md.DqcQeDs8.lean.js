import{_ as n,o as s,c as p,a4 as l}from"./chunks/framework.B8fosacB.js";const d=JSON.parse('{"title":"大模型","description":"","frontmatter":{"title":"大模型","editLink":true,"navbar":true,"category":"RAG"},"headers":[],"relativePath":"post/ai/RAG.md","filePath":"post/ai/RAG.md","lastUpdated":1731158524000}'),e={name:"post/ai/RAG.md"};function i(r,a,c,t,o,b){return s(),p("div",{"data-pagefind-body":!0},a[0]||(a[0]=[l(`<div class="tip custom-block"><p class="custom-block-title">TIP</p><p>本文探讨了检索增强生成（RAG）技术，涵盖了其在自然语言处理中的应用、工作原理、优势，以及与之相关的知识向量化、知识召回、向量数据库、向量模型和 prompt 提示词等方面的内容。</p></div><h1 id="rag" tabindex="-1">RAG <a class="header-anchor" href="#rag" aria-label="Permalink to &quot;RAG&quot;">​</a></h1><p>在自然语言处理领域，大型语言模型（LLM）如GPT-4o等已经取得了显著的进展，它们能够生成连贯、自然的文本，回答问题，并执行其他复杂的语言任务。然而，这些模型存在一些固有的局限性，如 <span style="color:#e64b7d;font-weight:bold;background-color:var(--vp-code-bg);border-radius:4px;padding:3px 6px;">&quot;模型幻觉问题&quot;、&quot;时效性问题&quot;和&quot;数据安全问题&quot;</span>。</p><h2 id="大模型问题" tabindex="-1">大模型问题 <a class="header-anchor" href="#大模型问题" aria-label="Permalink to &quot;大模型问题&quot;">​</a></h2><h3 id="幻觉问题" tabindex="-1">幻觉问题 <a class="header-anchor" href="#幻觉问题" aria-label="Permalink to &quot;幻觉问题&quot;">​</a></h3><p>是指在生成文本时，模型输出的信息看似合理或真实，但实际上是不准确的、虚构的或没有事实依据的。这种现象通常发生在模型未能获取到足够相关的数据，或者在理解上下文时出现偏差，导致它生成的内容并不与现实或事实相符。</p><h3 id="时效性问题" tabindex="-1">时效性问题 <a class="header-anchor" href="#时效性问题" aria-label="Permalink to &quot;时效性问题&quot;">​</a></h3><ol><li>过时的信息：例如，模型无法回答最新的新闻、科技进展或社会变化，因为它所依赖的知识库没有涵盖这些信息。</li><li>无法处理动态数据：模型难以处理需要实时更新的领域，如股票市场、天气预报、体育赛事等。</li></ol><h3 id="数据安全问题" tabindex="-1">数据安全问题 <a class="header-anchor" href="#数据安全问题" aria-label="Permalink to &quot;数据安全问题&quot;">​</a></h3><p>攻击者可能通过操控模型输入（例如通过“提示注入”攻击），诱导模型生成包含敏感信息的内容，或进行恶意利用。</p><p>为了弥补 AI 模型自身知识的不足，我们可以为它提供外部知识的支持，就像给学生提供参考书和工具书一样，帮助他们更好地理解和解决问题。检索增强生成 (RAG) 技术就是一种为 AI 模型提供“知识外挂”的方法。 我们可以将 RAG 技术的工作原理概括为以下几个步骤：</p><h2 id="rag步骤" tabindex="-1">RAG步骤 <a class="header-anchor" href="#rag步骤" aria-label="Permalink to &quot;RAG步骤&quot;">​</a></h2><p><img src="https://img.springlearn.cn/blog/fd967b16ca508ffdf720c2207c9966b7.png" alt=""></p><h3 id="检索" tabindex="-1">检索 <a class="header-anchor" href="#检索" aria-label="Permalink to &quot;检索&quot;">​</a></h3><p>是根据用户的查询内容，从外部知识库获取相关信息。具体而言，将用户的查询通过Embedding嵌入模型转换为向量，以便与向量数据库中存储的相关知识进行比对。通过相似性搜索，找出与查询最匹配的前 K 个数据。</p><h3 id="增强" tabindex="-1">增强 <a class="header-anchor" href="#增强" aria-label="Permalink to &quot;增强&quot;">​</a></h3><p>将用户的查询内容和检索到的相关知识一起嵌入到一个预设的提示词模板中</p><h3 id="生成" tabindex="-1">生成 <a class="header-anchor" href="#生成" aria-label="Permalink to &quot;生成&quot;">​</a></h3><p>将经过检索增强的提示词内容输入到大型语言模型中，以生成所需的输出。</p><h2 id="rag-技术的优势" tabindex="-1">RAG 技术的优势 <a class="header-anchor" href="#rag-技术的优势" aria-label="Permalink to &quot;RAG 技术的优势&quot;">​</a></h2><p>RAG 技术的优势在于能够将 AI 模型与外部知识库连接起来，从而扩展 AI 模型的知识范围，提高其回答问题和生成内容的准确性。例如，在医疗领域，RAG 技术可以帮助医疗 AI 助手获取最新的医学知识和临床案例，从而提高其诊断和治疗建议的准确性。</p><h3 id="提高准确性" tabindex="-1">提高准确性 <a class="header-anchor" href="#提高准确性" aria-label="Permalink to &quot;提高准确性&quot;">​</a></h3><p>通过检索外部知识库，避免了幻觉问题的困扰。相较于单纯依赖大型语言模型对海量文本数据的学习，RAG允许模型在生成文本时从事实丰富的外部知识库中检索相关信息。</p><h3 id="时效性" tabindex="-1">时效性 <a class="header-anchor" href="#时效性" aria-label="Permalink to &quot;时效性&quot;">​</a></h3><p>RAG技术的时效性优势使其在处理实效&quot;较强的问题时更为可靠。通过与外部知识库的连接，RAG确保了模型可以获取最新的信息，及时适应当前的事件和知识。</p><h3 id="适应性强" tabindex="-1">适应性强 <a class="header-anchor" href="#适应性强" aria-label="Permalink to &quot;适应性强&quot;">​</a></h3><p>与传统的知识库问答(KBQA)相比，RAG技术在知识检索方面更加灵活，不仅能够从结构化的知识库中检索信息，还能够应对非结构化的自然语言文本。</p><p>KBQA: 检索知识库，回答问题</p><h2 id="prompt提示词" tabindex="-1">prompt提示词 <a class="header-anchor" href="#prompt提示词" aria-label="Permalink to &quot;prompt提示词&quot;">​</a></h2><p>为啥需要提示词呢？不能直接讲知识+问题直接抛给大模型？ 这样可能会出现的问题：</p><ol><li>回答长度和风格不受控制：大模型可能生成过长或不符合预期风格的回答。</li><li>敏感话题的处理不受约束：没有明确的提示词可能导致模型在敏感话题上生成不适当的内容。</li><li>回答缺乏明确主体：没有明确的步骤告诉大模型咋做，模型生成的内容可能散乱，无法聚焦在问题的核心主题上。</li><li>不同场景需要针对性回答：例如，在疾病咨询或产品介绍、制定健康计划等场景下，往往需要大模型承担不同的角色，提供专业性强且符合特定领域的回答。</li><li>准确性不够：对于逻辑性比较强的工作，没有提示词的话，大模型可能会出错。</li></ol><h3 id="如何写好一个好的提示词呢" tabindex="-1">如何写好一个好的提示词呢 <a class="header-anchor" href="#如何写好一个好的提示词呢" aria-label="Permalink to &quot;如何写好一个好的提示词呢&quot;">​</a></h3><p><a href="https://waytoagi.feishu.cn/wiki/EGU4wV4q6i6vprk5A7dckaGTne0" target="_blank" rel="noreferrer">https://waytoagi.feishu.cn/wiki/EGU4wV4q6i6vprk5A7dckaGTne0</a></p><ol><li>指定角色：让大模型承担特定角色，如营养师、意图分析师、文章扩写专家等，以确保回答符合场景需求。</li><li>使用分隔符清晰的表示输入的不同部分：对于复杂的任务，消除细节的歧义比较重要，使用分隔符明确告诉大模型划分的部分，不要让gpt花费精力去理解你到底在干什么。</li><li>明确任务步骤：提示词应清楚地指明模型需要完成哪些步骤。</li><li>增加示例：对于复杂的任务，可以在提示词中添加具体的示例，帮助模型更好理解任务。</li><li>限制输出格式：对输出格式进行限制，确保结果符合预期的结构和风格。比如微信场景和APP上有无markdown格式区别。</li><li>大模型输出思考过程：对于涉及逻辑推理比较强（计算等）的任务，可以让大模型输出它的思考过程，而不是直接给出答案，这样有助于提高准确性。</li></ol><h3 id="好的提示词示例" tabindex="-1">好的提示词示例： <a class="header-anchor" href="#好的提示词示例" aria-label="Permalink to &quot;好的提示词示例：&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span># Role</span></span>
<span class="line"><span>扩写大师</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## Profile</span></span>
<span class="line"><span>- language: 中文</span></span>
<span class="line"><span>- description: 根据用户提供的文章内容和目标字数，智能扩写文章，不脱离原文文风，确保新生成的文章内容质量和字数满足用户要求。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## Background</span></span>
<span class="line"><span>很多用户需要将短文本扩写成更长的文章，以满足特定的发布要求或个人需求，但又希望扩写后的内容保持与原文相同的风格，且字数精确达到指定目标。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## Goals</span></span>
<span class="line"><span>1. 获取用户需要扩写的文章及目标字数。</span></span>
<span class="line"><span>2. 调用 analysis（数据分析器）检测扩写文本的字数，确保不少于用户规定的目标字数。</span></span>
<span class="line"><span>3. 若首次扩写字数未达到目标，询问用户是否需要继续扩写直至目标达成。</span></span>
<span class="line"><span>4. 确保每次扩写都能紧密贴合原文的风格，使整体文章内容自然流畅。</span></span>
<span class="line"><span>5. 根据内容段落生成标题与子标题，重点词句加粗等，增强阅读体验</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## Constrains</span></span>
<span class="line"><span>- 扩写内容必须保持原文的风格不变。</span></span>
<span class="line"><span>- 确保扩写后的字数不少于用户指定的目标字数。</span></span>
<span class="line"><span>- 若扩写内容未达到指定字数，需询问用户是否继续扩写。</span></span>
<span class="line"><span>- 避免使用“首先、其次、再有、总而言之”等机械性的总结语句</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## Skills</span></span>
<span class="line"><span>- 文章风格分析和模仿。</span></span>
<span class="line"><span>- 文本生成与编辑。</span></span>
<span class="line"><span>- 字数统计与检测。</span></span>
<span class="line"><span>- 根据内容段落生成标题与子标题</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## Workflows</span></span>
<span class="line"><span>1. 初始化：询问用户“您希望扩写的文章目标字数是多少？请提供需要扩写的文章。”</span></span>
<span class="line"><span>2. 接收用户输入的目标字数和文章内容。</span></span>
<span class="line"><span>3. 进行文章扩写，确保风格与原文一致。</span></span>
<span class="line"><span>4. 调用 analysis（数据分析器）检测扩写后的文章字数。并在文末给出字数统计。</span></span>
<span class="line"><span>5. 若字数达到目标，结束流程；若未达到，询问用户是否需要继续扩写。</span></span>
<span class="line"><span>6. 重复步骤3至5，直至字数满足用户需求。</span></span>
<span class="line"><span>7. 提供最终扩写完成的文章给用户。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## Initialization</span></span>
<span class="line"><span>“您好，我是扩写大师，我可以帮助您将任何文章扩写到指定的字数，同时保证不脱离原文风格。请问您需要扩写的文章目标字数是多少？并请提供需要扩写的文章。”</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div>`,36)]))}const h=n(e,[["render",i]]);export{d as __pageData,h as default};
