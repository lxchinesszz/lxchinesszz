import{_ as t,c as a,aa as r,o}from"./chunks/framework.bT2BobGK.js";const h=JSON.parse('{"title":"影响范围","description":"","frontmatter":{"breadcrumb":false,"navbar":true,"sidebar":true,"pageInfo":true,"contributor":true,"editLink":true,"updateTime":true,"prev":true,"next":true,"comment":false,"footer":true,"backtotop":true,"title":"影响范围","category":"单测规范"},"headers":[],"relativePath":"test/影响范围.md","filePath":"test/影响范围.md"}'),i={name:"test/影响范围.md"};function l(s,e,n,c,u,d){return o(),a("div",null,e[0]||(e[0]=[r('<div class="danger custom-block"><p class="custom-block-title">注意影响</p><p>所有的单测一定针对不是生产环境,一般线上发布我们会声明不运行单测。 如何考虑环境因素呢?</p><p>两个解决办法:</p><ul><li>应用维度环境分离 spring.profiles.active=test</li><li>测试基类指定环境 @ActiveProfiles(&quot;test&quot;)</li></ul></div><h2 id="一、影响范围考虑哪些因素" tabindex="-1">一、影响范围考虑哪些因素? <a class="header-anchor" href="#一、影响范围考虑哪些因素" aria-label="Permalink to &quot;一、影响范围考虑哪些因素?&quot;">​</a></h2><h3 id="_1-1-是否影响测试环境" tabindex="-1">1.1 是否影响测试环境? <a class="header-anchor" href="#_1-1-是否影响测试环境" aria-label="Permalink to &quot;1.1 是否影响测试环境?&quot;">​</a></h3><p>可以设置单测事务不提交,保证对数据无影响。</p><h3 id="_1-2-是否对业务无影响" tabindex="-1">1.2 是否对业务无影响? <a class="header-anchor" href="#_1-2-是否对业务无影响" aria-label="Permalink to &quot;1.2 是否对业务无影响?&quot;">​</a></h3><p>检查是否做了环境隔离。</p><h3 id="_1-3-是否可重复跑" tabindex="-1">1.3 是否可重复跑? <a class="header-anchor" href="#_1-3-是否可重复跑" aria-label="Permalink to &quot;1.3 是否可重复跑?&quot;">​</a></h3><p>如果前两点都已经解决,那么就可以重复跑。 重复跑可以模拟验证幂等或者重复提交的问题。</p><h2 id="三、什么时候写单测" tabindex="-1">三、什么时候写单测 <a class="header-anchor" href="#三、什么时候写单测" aria-label="Permalink to &quot;三、什么时候写单测&quot;">​</a></h2><p>后端开发进度: 开发50% + 单元测试30% + 联调20%</p><ol><li>自己代码开发完成后,就应该进行单测。</li><li>自己代码开发完了,其他人没有开发完。可以进行Mockito单测,先确保自己的代码没问题。</li><li>对自己负责的功能模块进行单测维护。</li></ol>',11)]))}const m=t(i,[["render",l]]);export{h as __pageData,m as default};
